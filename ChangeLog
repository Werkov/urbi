2006-10-15  Matthieu Nottale  <nottale@gostai.com>

	r226: FIX: ugrammar was unsaved in my IDE. Sorry 

	* parser/bison/ugrammar.y: Fix conflict.

2006-10-15  Matthieu Nottale  <nottale@gostai.com>

	r225: Optimization: tag subsystem rewrite, memory manager rewrite 

	* ucommand.cc: .
	* ucommand.h: .
	* utypes.h: .
	* parser/bison/ugrammar.y: .
	* ufunction.cc: .
	* uexpression.cc: .
	* ufunction.h: .
	* userver.cc: .
	* userver.h: .
	* uvariablename.cc: .
	* memorymanager/blockmemorymanager.h: .
	* memorymanager/memorymanager.cc: .
	* memorymanager/memorymanager.h: .
	* uconnection.cc: .

2006-10-15  BAILLIE Jean-Christophe  <baillie@gostai.com>

	Fix indentation problems 

Indentation problems fixed in some files (using Akim's convention: to be
debated)
NB: vi option to add =>  :set tabstop=8

	* ucommand.cc: .
	* parser/bison/ugrammar.y: .
	* uexpression.cc: .
	* userver.cc: .
	* uvariablename.cc: .

2006-10-13  Matthieu Nottale  <nottale@gostai.com>

	Optimisation.

	* utypes.h: Remove eqStr (leftover).
	* uconnection.cc: Remove 4(half) useless hash map searches in execute.
	* liburbi-c++/src/liburbi/uobject/uext.h: Tsuna:BUG: this is an external item.

2006-10-12  matthieu nottale  <nottale@gostai.com>

	r222: Fix invalid iterator use.

	* network/bsdnet/network.cc: Fixed for good.

2006-10-12  matthieu nottale  <nottale@gostai.com>

	r221: Lock fix.

	* parser/uparser.cc: Remove unneccessary &*.
	* lockable.h: Lock is now a recursive mutex.
	* userver.cc: Lock server in work.
	* userver.h: UServer inherits Lockable .
	* console.cc: Add missing headers.
	* uconnection.cc: Lock server in parse.

2006-10-12  Matthieu Nottale  <nottale@gostai.com>

	Add a much needed try/catch

	* network/bsdnet/network.cc: Add a try/catch, so that when a connection is destroyed in its notifyread, the call to notifyWrite on the deleted object does not bring the ship down.
	* lockable.h: Add a temporary #error in the aibo case to ensure locks are enabled.
	* console.cc: Add missing includes time.h and sys/time.h in !windows case.

2006-10-10  matthieu nottale  <nottale@gostai.com>

	Env defaults to engine. Add build dependency on bison.mk 

	* configure.ac: Default env is engine.
	* parser/bison/bison.mk: Add dependency on bison.mk.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	More robustness against flex 2.5.4.

	* parser/bison/bison.mk: std::ostream.
	Include iostream, not istream, since ostreams are used.
	* liburbi-c++/src/liburbi/uabstractclient.cpp: Instantiate
	in the same order as the declaration.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* userver.cc: Do it.
	* console.cc: Idem.
	* ughostconnection.cc: Idem.
	* liburbi-c++/src/liburbi/uabstractclient.cpp: Idem.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	console.
	* console.cc: New.
	* Makefile.am: Compile it.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Hook liburbi to SUBDIRS.
	* Makefile.am (liburbi-ci): New .

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Install fwd.hh.
	* Makefile.am: Do it.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Use liburbi as an svn:externals.
	* configure.ac: Configure the subpackage liburbi-c++.
	* uobject/uobject.h, uobject/uext.h, uobject/common_uvalue.cc:
	Point to the local version of liburbi-c++.
	* Makefile.am (liburbi-up): New.
	To be used to upgrade the version of liburbi used.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	fwd.hh.
	* fwd.hh: New.
	* unamedparameters.h, uvalue.h, ucommand.h, uexpression.h,
	* utypes.h, ucommandqueue.h, ugroup.h, ughostconnection.h,
	* ueventhandler.h, uvariablelist.h, ufunction.h,
	* uconnection.h, ubinder.h, userver.cc, userver.h, uobj.h,
	* uvariable.h, uvariablename.h, ucallid.h:
	Use it.
	* Makefile.am: Adjust.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	uobject.cc in urbi::.
	* uobject/uobject.cc:  Define in urbi:: the entities declared in it.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	uparse.cc.
	* parser/uparser.cc: New.
	* parser/uparser.h, Makefile.am: Adjust.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	* network/bsdnet/network.h, network/bsdnet/network.cc, 
	* uconnection.cc, ucommand.cc: Formatting changes.

2006-10-09  Akim Demaille  <akim@lrde.epita.fr>

	pin baux.
	* Makefile.am: And include build-aux.mk.

2006-10-08  JC Baillie  <baillie@gostai.com>

	first stage of object arrays (can create) 

The goal is be able to do things like:

myobj[1] = new stuff;
myobj[1].val = 4;

For the moment, only the first stage is possible with this commit.
To reach the second stage (which requires a modification of the grammar), you
can do this:

myobj__1.val = 4; //or
$("myobj__"+string(index)+".val") = 4;


	* ucommand.cc: tweak UCommand_NEW to support any object name.
	* ucommand.h: change constructor.
	* parser/bison/ugrammar.y: update with new UCommand_NEW constructor.

2006-10-08  JC Baillie  <baillie@gostai.com>

	Prepare for multievent handling 

Multievent handling needs a new class UEventHandler.

	* ucommand.cc: include uventhandler.h.
	* utypes.h: nothing.
	* ueventhandler.h: New.
	* ueventhandler.cc: New.
	* Makefile.am: add .cc and .h for ueventhandler.

2006-10-08  JC Baillie  <baillie@gostai.com>

	fix 'new' behavior when no init is present and no parameters are given 

When invoquing new with no parameters, the default "empty" constructor is now called,
even if the init function has not been explicitly declared.

	* ucommand.cc: fix UCommand_NEW behavior when new has no param and no init is defined.

2006-10-08  JC Baillie  <baillie@gostai.com>

	no recursive inheritance 

	* ucommand.cc: fix a=new a; this is not permitted.

2006-10-08  Type Your Name Here  <your.mail.here@fixme.com>

	Name resolution fix in object methods + akim bug in booleval reverted 

Some cleanup of warning messages during compile.
Fix a name resolution bug in object methods when attributes are defined in the 
origin class and not in the child class.
Akim removed a "if (freeme)" before a delete in booleval. Reverted.

	* ucommand.cc: cleanup warnings.
	* parser/bison/ugrammar.y: cleanup of unecessary comments.
	* uexpression.cc: cleanup warnings, fix indent.
	* uvalue.cc: remove booleval bug, fix indent.
	* uvariable.cc: cleanup warnings, fix indent.
	* INSTALL: remove old install notes.
	* userver.cc: cleanup warnings.
	* uobj.cc: add searchEvent function.
	* uobj.h: add searchEvent definition.
	* uvariablename.cc: fix name resolution in object methods with inheritance.
	* LICENSE-URBI-LANGUAGE: Remove.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Bison and Flex output are no longer shipped.
	Therefore they are now in the build tree.
	* parser/bison/bison.mk: Implement these changes.
	* Makefile.am (CLEANFILES): Initialize.
	* configure.ac: Require exactly Flex 2.5.4.
	Require at least Bison 2.2.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Fix Perl invocation.
	* parser/bison/bison.mk: Beware that perl needs the file to
	process after the -e.
	* parser/bison/ugrammar.y: Sugar.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Sugar the parser.
	* parser/bison/ugrammar.y (NEW_EXP_2): New.
	Use it.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Fix install/uninstall issues.
	distcheck passes.
	* Makefile.am: Use DESTDIR.
	(uninstall-local): New.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Fix build != src issue.
	* parser/bison/bison.mk: Don't rely on an existing
	builddir/parser/bison.
	Reported by Matthieu.

2006-10-06  matthieu nottale  <nottale@gostai.com>

	COMMA and SEMICOLON priority changed

	* parser/bison/ugrammar.y: Fix priority between COMMA and SEMICOLON in grammar.

2006-10-06  Akim Demaille  <akim@lrde.epita.fr>

	Enable debug traces in the parser.
	* parser/uparser.h: Do that.
	* parser/bison/ugrammar.y: use %debug.
	delete 0 is valid c++.

2006-10-04  Akim Demaille  <akim@lrde.epita.fr>

	Simplify delete invocations.

	* ucommand.cc: "delete(\(.*?\))" -> "delete \1".
	"if *(\(.*?\)) *\(delete \1\)" -> "\2".
	* utypes.h: Ditto.
	* uvariablelist.cc: Ditto.
	* ufunction.cc: Ditto.
	* ucallid.cc: Ditto.
	* uexpression.cc: Ditto.
	* unamedparameters.cc: Ditto.
	* uvalue.cc: Ditto.
	* ubinary.cc: Ditto.
	* uproperty.cc: Ditto.
	* uvariable.cc: Ditto.
	* uobj.cc: Ditto.
	* ugroup.cc: Ditto.
	* uconnection.cc: Ditto.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	inline ucopy.
	* ucommand.cc: Do it.
	* uvariablename.cc: Use it.
	This should fix some memory leak: before we were making copies
	that are not always used.
	delete 0 is valid C++.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* uvariablename.cc, uvalue.cc: Do that.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Clean up.
	* ucommand.cc: Lots of formatting changes.
	Don't abuse of parens, know your precedences.
	delete 0 is valid C++.
	(ucopy): New.
	Use it.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* uobject/uobject.cc: Do that.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Catch up with uobject.h.
	* ucommand.cc, uobject/uobject.cc, uobject/uvar.cc:
	Various indentation fixes.
	Various warning fixes.
	Catch up with const-ref uses for std::string in uobject.h.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Use URBI_*.
	* configure.ac: Use URBI_PROG_CXX, and URBI_DOC.
	Use AC_ENABLE_SHARED.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	* build-aux, bootstrap: Remove.
	Now replaced with svn:externals.

2006-10-03  matthieu nottale  <nottale@gostai.com>

	New nonfree banner. Fix leak.

	* ubanner.cc: New message that doesn't say urbikernel is free.
	* uobject/uvar.cc: Fix a leak: delete vardata in uvar dtor.

2006-09-29  Matthieu Nottale  <nottale@gostai.com>

	Fix bison.mk incorrect path

	* parser/bison/bison.mk: Fix utoken.cc path.

2006-09-28  matthieu nottale  <nottale@gostai.com>

	Fixes for sdk generation

	* network/OPENR/openr.mk: replaced CPPFLAGS= with CPPFLAGS +=.
	* Makefile.am: Hack libkernel.lai and install locations to pretend
	the lib is not installed.
	We have to do it in order to include libkernel in an other library.

2006-09-27  matthieu nottale  <nottale@gostai.com>

	Makefile.am fixes

	* Makefile.am: Add missing uext.h.
	Add libkernel_la_CPPFLAGS because AM_CPPFLAGS is ignored
	(libkernel_la_CPPFLAGS written in openr.mk).

2006-09-26  Akim Demaille  <akim.demaille@free.fr>

	White space changes.
	* uconnection.cc: White space chanegs.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* uconnection.cc: Include ubanner.hh.
	* userver.cc: Remove declarations that are now in ubanner.hh.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	Update to URBI_DIRS.

	* configure.ac (NETWORK_BSDNET): No longer define it.
	* parser/bison/Makefile.defs: Rename as...
	* parser/bison/bison.mk: this.
	And adjust dir names.
	* network/bsdnet/Makefile.defs: Rename as...
	* network/bsdnet/bsdnet.mk: this.
	And adjust dir names.
	* network/OPENR/Makefile.defs: Rename as...
	* network/OPENR/openr.mk: this.
	And adjust dir names.
	* build-aux/urbi-dirs.m4: Also define kernelincludedir.
	* build-aux/urbi-openr.m4: Formatting changes.
	* README: New.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	Introduce ubanner.cc.
	* ubanner.hh, ubanner.cc: New.
	* userver.cc, userver.h: Use it.
	(UServer::display (const char **)): New.
	Use it.
	* Makefile.am: Adjust.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	Update URBI_DIRS.
	* build-aux/urbi-dirs.m4: Update from liburbi-cpp.
	* configure.ac: Use it.
	* Makefile.am (AM_CPPFLAGS): Remove useless ones, add missing ones.
	Ship uext.h.

2006-09-26  Type Your Name Here  <your.mail.here@fixme.com>

	Include path fix

	* utypes.h: Fix uobject.h include path, add uext.h include.
	* uvalue.cc: idem.
	* userver.cc: idem.
	* uobject/uext.h: New. Symlink from liburbi.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* uobject/uobject.cc: Add missing std::.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* uobject/uobject.cc (cleanTable): Cleanup.
	* Makefile.am: Formatting changes.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/urbi-openr.m4: New.
	* configure.ac: Use it.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* parser/bison/Makefile.defs: Install the header files.
	* network/bsdnet/Makefile.defs,
	* network/OPENR/Makefile.defs,
	* network/OPENR/Makefile.defs,
	* Makefile.am: Ditto.

	* userver.h: Reorder includes.
	* memorymanager/memorymanager.h: Formatting changes.

2006-09-26  Akim Demaille  <akim.demaille@free.fr>

	namespace cleanups.
	* ucommand.cc: Don't "using" things from std::.
	Catch up with liburbi being in urbi::.
	* ucommand.h: Ditto.
	* uexpression.h: Ditto.
	* ufloat.h: Ditto.
	* ucallid.cc: Ditto.
	* ugroup.h: Ditto.
	* uexpression.cc: Ditto.
	* uvariable.cc: Ditto.
	* uconnection.h: Ditto.
	* ubinder.h: Ditto.
	* userver.cc: Ditto.
	* userver.h: Ditto.
	* uobj.cc: Ditto.
	* uobj.h: Ditto.
	* uobject/uvar.cc: Ditto.
	* uvariablename.cc: Ditto.
	* uvariable.h: Ditto.
	* uvariablename.h: Ditto.
	* ucallid.h: Ditto.
	* uconnection.cc: Ditto.
	* ubinder.cc: Ditto.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Use URBI_DIRS.
	* build-aux/urbi-dirs.m4: New.
	* configure.ac: Use it.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	distcheck fixes.
	* build-aux/doxygen.mk: Update.
	* build-aux/revision.mk: Clean version..hh.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Portability fixes.
	* parser/bison/Makefile.defs: use Perl, not sed, since alternation
	is not portable (and OSX is a loser in this regard).
	Also cover cin, cout, cerr, and widen the pattern.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Prepend std:: to istream.

	* parser/bison/Makefile.defs: For Linux.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	VC++ issues"".

	* ucommand.cc: .Formatting changes.
	* parser/bison/Makefile.defs (utoken.cc): Fix lack of std::.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Fixes and details.

	* ucommand.cc: Indent properly.
	* utypes.h: Comment changes.
	* parser/bison/ugrammar.y (NEW_BIN): New.
	Use it.
	Don't use parens for delete.
	"Delete 0" is valid C++.
	* parser/bison/Makefile.defs: Ship FlexLexer.h.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Fixes.

	* build-aux/move-if-change: New.
	* Makefile.am: Ship bison++.in.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Dos2unix.
	* ucommand.cc, utypes.h, uvariablelist.cc, ucallid.cc
	* unamedparameters.cc, uvalue.cc, ubinary.cc, uproperty.cc: .
	* CHANGELOG-Kernel, uobject/common_uvalue.cc, ugroup.cc: .
	* ubinder.cc: Use Unix-style end of lines.

	* uobject/uvar.cc: Namespace fixes.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Autoconfiscate.
	* ChangeLog, bootstrap: New.
	* build-aux/bison++.in, build-aux/revision.mk,
	* build-aux/urbi-var-progs.m4: New.
	* configure.ac: Use them.
	* build-aux/doxygen.mk, doc/Makefile.am, doc/Doxyfile.in: New.

	* Makefile: Rename as...
	* Makefile.am: this.

	* configure.ac (OS): New.
	* version.hh.in: New.
	* Makefile.am: Use it.

	* lockable.h: Simplify.
	* network/OPENR/Makefile.defs: Udate to match Automake use.
	* network/bsdnet/Makefile.defs: Ditto.
	* parser/bison/Makefile.defs: Ditto.
	* parser/bison/FlexLexer.h: Formatting changes.
	* parser/uparser.h: Formatting changes.
	(ugrammar.hh, FlexLexer.h, location.hh): Include them.
	Use parser::token_type instead of Bison pre-2.2 names.
	Don't use using.
	Let Emacs know this file is C++.
	* parser/bison/utoken.l: Formatting changes.
	No using.
	* parser/bison/ugrammar.y: Require Bison 2.2.
	No using.
	Formatting changes.
	Don't use "../" in includes.
	* parser/bison/Makefile.defs: Use bison++ to save cycles.

	* version.h: Replace by...
	* version.hh.in: this.
	* Makefile.am: Use it.

	* userver.cc: Use C++ headers, use version.hh.
	Formatting changes.
	* userver.h: Formatting changes.
	* uobj.cc: Specify the path to uobject.h.
	* uobject/uvar.cc: Formatting changes.
	* uvariable.h: Ditto.
	* uconnection.cc: Ditto.

Local Variables:
ispell-local-dictionary: "american"
End:

$Rev$
$Id$
$Date$
