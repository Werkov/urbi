2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

	fix error statement: must start with an upper case 
	* src/ucommand.cc: change 'invalid' to 'Invalid'.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

	fix 'vars' command 
	* src/ucommand.cc: add support for VOID, LIST and OBJ types.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

Calling 'new' several times for the same object will now fail:

class x;
class y;
a = new x; // OK
a = new y; // FAIL

The proper way of doing it will be in the future:

a = new x;
a inherits y; // from this point on, any call to init would fail because it
              // would be ambiguous between x.init and y.init
              // Conflicts should be notified in warning and generate errors
              // only if effective usage is attempted.

	Temporarily prohibits multiple inheritance. 
	* src/ucommand.cc: done.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

Trying to put objects in lists or have functions that return objects now
triggers an error message.

	add proper error messages for common objects misusages in kernel 1 
	* src/ucommand.cc: dito.
	* src/uexpression.cc: dito.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

	fix indentation 
	* src/uexpression.cc: dito.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

	fix ticket #52 
	* src/ucommand.cc: fix bug in name eval checking inside NEW.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

	fix bug on 'at' tests containing core functions 
	* src/uexpression.cc: fix bug.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

	indentation reformating 
	* src/utypes.h: doit.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

The grammar has been hacked again to support tags of the form <id>(.<id>)*
In 1.5, when name resolution will be set properly, we will submit tags to the
same resolution algorithm, giving immediate benefits like "programmable tags":

a="hello";
$(a): ping;
[00012123:hello] pong

	fix bug in parsing hierarchical tags with more than 2 levels of
	* src/parser/bison/utoken.l: add the TAG token.
	* src/parser/bison/ugrammar.y: extend parsing of tags to include the
        TAG token.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

	fix bug in hash+list name resolution 
	* src/uexpression.cc: fix.

2006-11-05  Jean-Christophe Baillie  <baillie@gostai.com>

For many critical applications where URBI has to handle "lists" of objects
created at runtime (like bots in a video game), it is necessary to be able to
have objects refered to by names containing variable parts. This feature is
added via the hash map mecanism already existing:

class x;
obj[1] = new x;
obj["myname"] = new x;
obj[45]["hello"] = new x;

The way it is done is again via a hack in the nameresolution function and the
parser. In k1.5, this will be fixed with ageneric nameresolution algorithm.

NB: obj[1] is not refering to an underlying ulist of objects, and evaluating 
obj alone without the array index will fail.

	add support for objects hash table 
	* src/parser/bison/utoken.l: add POINT token ('.').
	* src/parser/bison/ugrammar.y: add support for prefix[...].suffix[...]
        constructs in grammar (should be generalized in 1.5).
	* src/uvariablename.cc: extend buildFullname function and fix bugs in
        name resolution algorithm.
	* src/uvariablename.h: add index_obj array.

2006-11-04  Jean-Christophe Baillie  <baillie@gostai.com>

	fix ticket #35: notifyaccess when list elements are viewed 
	* src/uexpression.cc: add a call to UVariable::get().

2006-11-04  Jean-Christophe Baillie  <baillie@gostai.com>

	fix bug accessing array of array in lists 
	* src/uexpression.cc: a quick hack. This *must* be fixed in k1.5.

2006-11-04  Jean-Christophe Baillie  <baillie@gostai.com>

	update NEWS 
	* NEWS: update.

2006-11-04  Jean-Christophe Baillie  <baillie@gostai.com>

The simple code "event b" was creating both an event b[0] and a variable b.
This is now fixed.

	fix bug in declaration of events without parameters 
	* src/ucommand.cc: add the "events" keyword that can be used to list
        declared events (like vars for variables).
	* src/parser/bison/utoken.l: add events keyword.
	* src/ueventhandler.h: add a nbarg accessor.
	* src/ueventhandler.cc: idem.

2006-11-04  Jean-Christophe Baillie  <baillie@gostai.com>

	fix speedmax bug 
	* src/ucommand.cc: enforce speedmax on instantaneus assignments like
        x=<value> and display a warning message when the +error flag is set.

2006-11-04  Jean-Christophe Baillie  <baillie@gostai.com>

	change 'modificator' to 'modifier' 
	* src/ucommand.cc: change error messages to display 'modifier' instead
        of 'modificator'.

2006-11-04  Jean-Christophe Baillie  <baillie@gostai.com>

	fix string unarmor bug 
	* src/parser/bison/utoken.l: STRING token now calls UString::unArmor().
	* src/ustring.cc: add unArmor/armor (armor not implemented yet).
	* src/ustring.h: add defs.
	* src/uvalue.cc: change UValue::echo for DATA_STRING; no processing
        required anymore.

2006-11-04  Akim Demaille  <akim@lrde.epita.fr>

	Automake 1.10 compatibility
	* src/Makefile.am: Use init.mk.
	Use newer svn-externals.
	* configure.ac: Automake 1.10 includes $(SHELL) in $(install_sh),
	so do not add another.

2006-11-03  Jean-Christophe Baillie  <baillie@gostai.com>

	whenever support add, fix bug in at (forgot to call normalForm) 

	* src/ucommand.cc: add support for whenever.
	* src/ucommand.h: add support for whenever.
	* src/userver.cc: remove unecessary debug ouput.

2006-11-01  Akim Demaille  <akim@lrde.epita.fr>

	Use URBI_LIBPORT
	* configure.ac: Here.

2006-11-01  Jean-Christophe Baillie  <baillie@gostai.com>

	fix "exec" bug 

	* src/parser/bison/utoken.l: fix UString lenght with STRING
        token.
	* src/uexpression.cc: nothing.
	* src/ustring.cc: formating changes.
	* src/ustring.h: add setLen, used by utoken.l to adjust the 
        length of the UString.

2006-11-01  Jean-Christophe Baillie  <baillie@gostai.com>

	formating changes 

	* src/ucommand.cc: indent.
	* src/parser/bison/ugrammar.y: remove comments.

2006-11-01  Jean-Christophe Baillie  <baillie@gostai.com>

	Remove obsolete 'eventid' attribute in UValue 

	* src/uvalue.cc: do it.

2006-11-01  Jean-Christophe Baillie  <baillie@gostai.com>

	Code reindent and force coding style

	* src/ucommand.cc: do it.
	* src/uvalue.h: do it.
	* src/ucommand.h: do it.
	* src/parser/bison/ugrammar.y: do it.
	* src/uexpression.cc: do it.
	* src/uvalue.cc: do it.
	* src/uvariable.cc: do it.
	* src/userver.cc: do it.
	* src/uobj.cc: do it.
	* src/uvariablename.cc: do it.
	* src/uvariable.h: do it.
	* src/uvariablename.h: do it.
	* src/uconnection.cc: do it.

2006-10-31  Matthieu Nottale  <nottale@gostai.com>

	Rename Connection* to connection* 

	* src/network/bsdnet/Connection.cc: Remove.
	* src/network/bsdnet/connection.cc: New.
	* src/network/bsdnet/Connection.h: Remove.
	* src/network/bsdnet/bsdnet.mk: .
	* src/network/bsdnet/network.cc: .
	* src/network/bsdnet/connection.hh: New.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Depend on uobject/ not liburbi
	* src/ucommand.cc, src/uexpression.h, src/uexpression.cc,
	* src/uobject.cc, src/uvalue.cc, src/network/bsdnet/Connection.cc,
	* src/uvariable.cc, src/uvar.cc, src/userver.cc, src/uobj.cc,
	* src/uvariablename.cc: Adjust: use uobject/uobject.hh.

	* src/Makefile.am, configure.ac, Makefile.am: Adjust.

2006-10-31  Jean-Christophe Baillie  <baillie@gostai.com>

	Add multievent support (whenever still not working) 
	* src/ucommand.cc: adjust UCommand_EMIT and UCommand_AT.
	* src/ucommand.h: add inheritance from UASyncCommand.
	* src/uatcandidate.cc: New.
	* src/uexpression.h: change UExpression::eval prototype.
	* src/utypes.h: add UEventCompoundType.
	* src/ueventinstance.cc: New.
	* src/ueventinstance.h: New.
	* src/uasynccommand.h: New.
	* src/uasyncregister.cc: New.
	* src/uasyncregister.h: New.
	* src/uexpression.cc: change UExpression::eval and add 
	UExpression::asyncScan.
	* src/uatcandidate.h: New.
	* src/ueventhandler.h: New.
	* src/uvariable.cc: add support for UAsyncRegister.
	* src/ueventcompound.cc: New.
	* src/ueventcompound.h: New.
	* src/userver.cc: replace eventtab by emittab.
	* src/userver.h: replace eventtab by emittab.
	* src/uobj.cc: update searchEvent function.
	* src/uasynccommand.cc: New.
	* src/uobj.h: update searchEvent prototype.
	* src/ueventhandler.cc: New.
	* src/uvariablename.cc: fixed name resolution for events
	with new UEventHandler approach.
	* src/uvariable.h: add support for UASyncRegister.
	* src/ueventmatch.cc: New.
	* src/ueventmatch.h: New.
	* src/Makefile.am: add new files.
	* src/fwd.hh: add new classes.

2006-10-31  Jean-Christophe Baillie  <baillie@gostai.com>

	Formatting changes
	* uvalue.h: here.

2006-10-31  Type Your Name Here  <baillie@gostai.com>

	Remove commented code
	* src/parser/bison/ugrammar.y: here.

2006-10-31  Type Your Name Here  <baillie@gostai.com>

	Fix UString copy ctor
	* src/ustring.cc: Do it.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Adjust to the changes in liburbi
	* src/Makefile.am: Adjust file names.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Dead line
	* src/Makefile.am: No longer pass -DFLOAT_DOUBLE, this is
	driven by configure now.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Update dependencies
	* Makefile.am: Tidy.
	More aliases for JCB.
	* scheduler: Remove.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Formatting changes
	* src/ustring.cc: here.
	* src/memorymanager/blockmemorymanager.h: here.
	* src/memorymanager/memorymanager.cc: here.
	* src/ubinder.cc: and here.
	* src/Makefile.am: Formatting change.

2006-10-31  Akim Demaille  <demaille@gostai.com>

	Formatting changes
	* src/parser/bison/ugrammar.y (NEW_BIN_1): New.
	Use it.

2006-10-25  Matthieu Nottale  <nottale@gostai.com>

	r256: Fix a parse error (gcc 4.1.2) and missing pthread flags

	* src/parser/uparser.h: Remove extra UFlexer:: in in-class method declaration.
	* src/Makefile.am: Add pthread-related flags to uconsole build.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	Use libport/ufloat.h
	* src/ufloat.h: Remove.
	* src/uvalue.h, src/utypes.h: Adjust.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	Use libport's ufloat.hh.
	* src/ufloat.h: Wrap libport/ufloat.hh.
	To be removed eventually (or moved into libport under some
	form).
	* src/ufloat.cc: Remove.
	* src/utypes.h: Adjust.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	Remove AIBO connection code
	* src/network/OPENR: Remove.
	* src/network/OPENR/aiboconnection.h: Remove.
	* src/network/OPENR/openr.mk: Remove.
	* src/network/OPENR/aiboconnection.cc: Remove.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	Adjust to libport installation
	* src/Makefile.am: No longer install libport bits.
	(AM_CXXFLAGS): Point to uobject/.

2006-10-24  Akim Demaille  <demaille@gostai.com>

	Formatting changes
	* src/uvar.cc: Make it more alike its peer.

2006-10-22  Akim Demaille  <akim.demaille@free.fr>

	Stop using symlinks, Matthieu dislikes them
	* src/uobject/uobject.cc, src/uobject/uvar.cc: Move to...
	* src/uobject.cc, src/uvar.cc: here.
	* src/uobject/uobject.h, src/uobject/uext.h,
	* src/uobject/common_uvalue.cc: Remove.
	* src/Makefile.am (liburbi_srcdir, uobject_srcdir): New.
	Use them to use the copies shipped by the enbedded liburbi.

2006-10-22  Akim Demaille  <akim.demaille@free.fr>

	Fix parser compilation under Aibo
	* src/parser/bison/bison.mk: Include an explicit compilation
	rule for ugrammar.cc which uses PARSER_CXXFLAGS.
	This rule was copied from Automake 1.9.6's output.
	* src/Makefile.am: Don't compile console for aibo.
	(libkernel_la_CPPFLAGS): Don't define it, it makes the object
	file names longer for no good reason.
	Just let AM_CPPFLAGS do its job.
	* configure.ac: Don't define NETWORK_OPENR, OPENR suffices.

2006-10-21  Akim Demaille  <akim.demaille@free.fr>

	Prepare aibo
	* src/console.cc: Use libport/utime.hh.
	* src/parser/bison/bison.mk: Compile the parser in a separate
	library, in a failed attempt to avoid -O2.
	* src/Makefile.am: Do not compile the Aibo connection kit.
	Will probably be removed later.

2006-10-21  Akim Demaille  <your.mail.here@FIXME.com>

	ChangeLog issues

2006-10-20  Type Your Name Here  <your.mail.here@FIXME.com>

	Upped libport and liburbi, small fix as a consequence

	* src/uvalue.cc: cast char*->unsigned char*.

2006-10-18  Akim Demaille  <demaille@gostai.com>

	Fix distdir issue
	* src/network/OPENR/aiboconnection.h,
	* src/network/OPENR/aiboconnection.cc: Formatting changes.
	* src/utypes.h: Use libport.hh.
	* src/Makefile.am: Move some EXTRA_DISTs to...
	* Makefile.am: here.
	* configure.ac: Use tar-ustar.

2006-10-17  Matthieu Nottale  <nottale@gostai.com>

	Replace install-sh, fix header path

	* src/parser/uparser.cc: Fix ugrammar.hh inclusion path.
	* configure.ac: Fix install-sh.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Look for pthread.h, install parts of libport.
	* src/Makefile.am: install bit of libport, since userver,h includes
	it, and is installed.  That sucks.
	* configure.ac: Use URBI_PTHREAD.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Fix path.
	* src/parser/bison/FlexLexer.h: Rename as...
	* src/parser/bison/flex-lexer.hh: this to avoid being caught
	by the installed one.
	* src/parser/uparser.h: Adjust.
	* src/parser/bison/bison.mk: Adjust.
	* src/Makefile.am: Adjust.
	lockable.h -> lockable.hh.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Update libport use.
	* src/uconnection.h: Use the new files.
	* src/userver.h: Ditto.
	* src/parser/uparser.h: Fix include path.
	Reported by Matthieu.
	* src/uconnection.cc: idem.
	* src/Makefile.am: Adjust.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Use libport/lockable.hh.
	* src/lockable.h: Remove.
	* src/uconnection.h, src/userver.cc, src/userver.h,
	* src/uconnection.cc: Adjust.
	* src/Makefile.am: Ditto.

2006-10-17  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* src/lockable.h: Do that.
	* src/userver.cc: Idem.

2006-10-16  Akim Demaille  <akim.demaille@free.fr>

	Use install-sh -C for headers.
	* configure.ac (INSTALL_HEADER): Define.
	This fixes the symptoms of a weird issue: when running
	"make install" in the kernel, when install goes into
	liburbi the headers are installed with fresh timestamps, and
	therefore, when install arrives back in the kernel's
	directory, it recompiles again.
	Now the timestamps are no longer updated.
	But in the first place, when should not depend on
	installed headers, but on our shipped headers.

2006-10-16  Akim Demaille  <demaille@gostai.com>

	Tidy.
	Move all the sources into src.
	Use the latest liburbi-c++.
	* configure.ac: Create config.h.
	* Makefile.am: Put bits into...
	* src/Makefile.am: this new file.
	* src/parser/bison/bison.mk: Adjust.
	* src/uvalue.cc, src/network/bsdnet/network.cc,
	* src/userver.cc, src/uobject/uobject.cc,
	* src/uobject/uobject.h, src/uobject/uext.h,
	* src/uobject/common_uvalue.cc: Don't name unused arguments.

	* src/ubanner.cc: Include config.h.

2006-10-15  Akim Demaille  <akim.demaille@free.fr>

	Fix some warnings.
	* ucommand.cc: No longer name unused arguments.
	* ucommand.h: Idem.
	* ueventhandler.h: Idem.
	* uconnection.h: Idem.
	* ueventhandler.cc: Idem.
	* uconnection.cc: Idem.

2006-10-15  Akim Demaille  <akim.demaille@free.fr>

	Upgrade build-aux.
	* configure.ac: Don't use -Weffc++ yet.
	* ustring.cc: Use C++ headers.
	Formatting changes.
	* ustring.h: Formatting changes.
	* memorymanager/blockmemorymanager.h: Idem.
	(BlockPool::BlockPool): New.
	* memorymanager/memorymanager.cc: Implement it.
	And use it.
	* ucommand.h: Formatting changes.
	* console.cc: Idem.
	* liburbi-c++/src/liburbi/uabstractclient.cpp: Idem.

2006-10-15  Matthieu Nottale  <nottale@gostai.com>

	FIX: ugrammar was unsaved in my IDE. Sorry

	* parser/bison/ugrammar.y: Fix conflict.

2006-10-15  Matthieu Nottale  <nottale@gostai.com>

	Optimization: tag subsystem rewrite, memory manager rewrite

	* ucommand.cc: .
	* ucommand.h: .
	* utypes.h: .
	* parser/bison/ugrammar.y: .
	* ufunction.cc: .
	* uexpression.cc: .
	* ufunction.h: .
	* userver.cc: .
	* userver.h: .
	* uvariablename.cc: .
	* memorymanager/blockmemorymanager.h: .
	* memorymanager/memorymanager.cc: .
	* memorymanager/memorymanager.h: .
	* uconnection.cc: .

2006-10-15  BAILLIE Jean-Christophe  <baillie@gostai.com>

	Fix indentation problems

	Indentation problems fixed in some files (using Akim's convention:
	to be debated)
	NB: vi option to add =>  :set tabstop=8

	* ucommand.cc: .
	* parser/bison/ugrammar.y: .
	* uexpression.cc: .
	* userver.cc: .
	* uvariablename.cc: .

2006-10-13  Matthieu Nottale  <nottale@gostai.com>

	Optimisation.

	* utypes.h: Remove eqStr (leftover).
	* uconnection.cc: Remove 4(half) useless hash map searches in execute.
	* liburbi-c++/src/liburbi/uobject/uext.h: Tsuna:BUG: this is an
	external item.

2006-10-12  matthieu nottale  <nottale@gostai.com>

	Fix invalid iterator use.

	* network/bsdnet/network.cc: Fixed for good.

2006-10-12  matthieu nottale  <nottale@gostai.com>

	Lock fix.

	* parser/uparser.cc: Remove unneccessary &*.
	* lockable.h: Lock is now a recursive mutex.
	* userver.cc: Lock server in work.
	* userver.h: UServer inherits Lockable .
	* console.cc: Add missing headers.
	* uconnection.cc: Lock server in parse.

2006-10-12  Matthieu Nottale  <nottale@gostai.com>

	Add a much needed try/catch

	* network/bsdnet/network.cc: Add a try/catch, so that when a
	connection is destroyed in its notifyread, the call to notifyWrite
	on the deleted object does not bring the ship down.
	* lockable.h: Add a temporary #error in the aibo case to ensure
	locks are enabled.
	* console.cc: Add missing includes time.h and sys/time.h in
	!windows case.

2006-10-10  matthieu nottale  <nottale@gostai.com>

	Env defaults to engine. Add build dependency on bison.mk

	* configure.ac: Default env is engine.
	* parser/bison/bison.mk: Add dependency on bison.mk.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	More robustness against flex 2.5.4.

	* parser/bison/bison.mk: std::ostream.
	Include iostream, not istream, since ostreams are used.
	* liburbi-c++/src/liburbi/uabstractclient.cpp: Instantiate
	in the same order as the declaration.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* userver.cc: Do it.
	* console.cc: Idem.
	* ughostconnection.cc: Idem.
	* liburbi-c++/src/liburbi/uabstractclient.cpp: Idem.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	console.
	* console.cc: New.
	* Makefile.am: Compile it.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Hook liburbi to SUBDIRS.
	* Makefile.am (liburbi-ci): New .

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Install fwd.hh.
	* Makefile.am: Do it.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	Use liburbi as an svn:externals.
	* configure.ac: Configure the subpackage liburbi-c++.
	* uobject/uobject.h, uobject/uext.h, uobject/common_uvalue.cc:
	Point to the local version of liburbi-c++.
	* Makefile.am (liburbi-up): New.
	To be used to upgrade the version of liburbi used.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	fwd.hh.
	* fwd.hh: New.
	* unamedparameters.h, uvalue.h, ucommand.h, uexpression.h,
	* utypes.h, ucommandqueue.h, ugroup.h, ughostconnection.h,
	* ueventhandler.h, uvariablelist.h, ufunction.h,
	* uconnection.h, ubinder.h, userver.cc, userver.h, uobj.h,
	* uvariable.h, uvariablename.h, ucallid.h:
	Use it.
	* Makefile.am: Adjust.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	uobject.cc in urbi::.
	* uobject/uobject.cc:  Define in urbi:: the entities declared in it.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	uparse.cc.
	* parser/uparser.cc: New.
	* parser/uparser.h, Makefile.am: Adjust.

2006-10-10  Akim Demaille  <demaille@gostai.com>

	* network/bsdnet/network.h, network/bsdnet/network.cc,
	* uconnection.cc, ucommand.cc: Formatting changes.

2006-10-09  Akim Demaille  <demaille@gostai.com>

	pin baux.
	* Makefile.am: And include build-aux.mk.

2006-10-08  JC Baillie  <baillie@gostai.com>

	first stage of object arrays (can create)

	The goal is be able to do things like:
	
	myobj[1] = new stuff;
	myobj[1].val = 4;
	
	For the moment, only the first stage is possible with this commit.
	To reach the second stage (which requires a modification of the
	grammar), you can do this:
	
	myobj__1.val = 4; //or
	$("myobj__"+string(index)+".val") = 4;


	* ucommand.cc: tweak UCommand_NEW to support any object name.
	* ucommand.h: change constructor.
	* parser/bison/ugrammar.y: update with new UCommand_NEW constructor.

2006-10-08  JC Baillie  <baillie@gostai.com>

	Prepare for multievent handling

	Multievent handling needs a new class UEventHandler.

	* ucommand.cc: include uventhandler.h.
	* utypes.h: nothing.
	* ueventhandler.h: New.
	* ueventhandler.cc: New.
	* Makefile.am: add .cc and .h for ueventhandler.

2006-10-08  JC Baillie  <baillie@gostai.com>

	fix 'new' behavior when no init is present and no parameters are given

	When invoquing new with no parameters, the default "empty"
	constructor is now called, even if the init function has not been
	explicitly declared.

	* ucommand.cc: fix UCommand_NEW behavior when new has no param and
	no init is defined.

2006-10-08  JC Baillie  <baillie@gostai.com>

	no recursive inheritance

	* ucommand.cc: fix a=new a; this is not permitted.

2006-10-08  Type Your Name Here  <your.mail.here@fixme.com>

	Name resolution fix in object methods + akim bug in booleval reverted

	Some cleanup of warning messages during compile.
	Fix a name resolution bug in object methods when attributes are
	defined in the origin class and not in the child class.
	Akim removed a "if (freeme)" before a delete in booleval. Reverted.

	* ucommand.cc: cleanup warnings.
	* parser/bison/ugrammar.y: cleanup of unecessary comments.
	* uexpression.cc: cleanup warnings, fix indent.
	* uvalue.cc: remove booleval bug, fix indent.
	* uvariable.cc: cleanup warnings, fix indent.
	* INSTALL: remove old install notes.
	* userver.cc: cleanup warnings.
	* uobj.cc: add searchEvent function.
	* uobj.h: add searchEvent definition.
	* uvariablename.cc: fix name resolution in object methods with
	inheritance.
	* LICENSE-URBI-LANGUAGE: Remove.

2006-10-06  Akim Demaille  <demaille@gostai.com>

	Bison and Flex output are no longer shipped.
	Therefore they are now in the build tree.
	* parser/bison/bison.mk: Implement these changes.
	* Makefile.am (CLEANFILES): Initialize.
	* configure.ac: Require exactly Flex 2.5.4.
	Require at least Bison 2.2.

2006-10-06  Akim Demaille  <demaille@gostai.com>

	Fix Perl invocation.
	* parser/bison/bison.mk: Beware that perl needs the file to
	process after the -e.
	* parser/bison/ugrammar.y: Sugar.

2006-10-06  Akim Demaille  <demaille@gostai.com>

	Sugar the parser.
	* parser/bison/ugrammar.y (NEW_EXP_2): New.
	Use it.

2006-10-06  Akim Demaille  <demaille@gostai.com>

	Fix install/uninstall issues.
	distcheck passes.
	* Makefile.am: Use DESTDIR.
	(uninstall-local): New.

2006-10-06  Akim Demaille  <demaille@gostai.com>

	Fix build != src issue.
	* parser/bison/bison.mk: Don't rely on an existing
	builddir/parser/bison.
	Reported by Matthieu.

2006-10-06  matthieu nottale  <nottale@gostai.com>

	COMMA and SEMICOLON priority changed

	* parser/bison/ugrammar.y: Fix priority between COMMA and
	SEMICOLON in grammar.

2006-10-06  Akim Demaille  <demaille@gostai.com>

	Enable debug traces in the parser.
	* parser/uparser.h: Do that.
	* parser/bison/ugrammar.y: use %debug.
	delete 0 is valid c++.

2006-10-04  Akim Demaille  <demaille@gostai.com>

	Simplify delete invocations.

	* ucommand.cc: "delete(\(.*?\))" -> "delete \1".
	"if *(\(.*?\)) *\(delete \1\)" -> "\2".
	* utypes.h: Ditto.
	* uvariablelist.cc: Ditto.
	* ufunction.cc: Ditto.
	* ucallid.cc: Ditto.
	* uexpression.cc: Ditto.
	* unamedparameters.cc: Ditto.
	* uvalue.cc: Ditto.
	* ubinary.cc: Ditto.
	* uproperty.cc: Ditto.
	* uvariable.cc: Ditto.
	* uobj.cc: Ditto.
	* ugroup.cc: Ditto.
	* uconnection.cc: Ditto.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	inline ucopy.
	* ucommand.cc: Do it.
	* uvariablename.cc: Use it.
	This should fix some memory leak: before we were making copies
	that are not always used.
	delete 0 is valid C++.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* uvariablename.cc, uvalue.cc: Do that.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Clean up.
	* ucommand.cc: Lots of formatting changes.
	Don't abuse of parens, know your precedences.
	delete 0 is valid C++.
	(ucopy): New.
	Use it.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Formatting changes.
	* uobject/uobject.cc: Do that.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Catch up with uobject.h.
	* ucommand.cc, uobject/uobject.cc, uobject/uvar.cc:
	Various indentation fixes.
	Various warning fixes.
	Catch up with const-ref uses for std::string in uobject.h.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	Use URBI_*.
	* configure.ac: Use URBI_PROG_CXX, and URBI_DOC.
	Use AC_ENABLE_SHARED.

2006-10-03  Akim Demaille  <demaille@gostai.com>

	* build-aux, bootstrap: Remove.
	Now replaced with svn:externals.

2006-10-03  matthieu nottale  <nottale@gostai.com>

	New nonfree banner. Fix leak.

	* ubanner.cc: New message that doesn't say urbikernel is free.
	* uobject/uvar.cc: Fix a leak: delete vardata in uvar dtor.

2006-09-29  Matthieu Nottale  <nottale@gostai.com>

	Fix bison.mk incorrect path

	* parser/bison/bison.mk: Fix utoken.cc path.

2006-09-28  matthieu nottale  <nottale@gostai.com>

	Fixes for sdk generation

	* network/OPENR/openr.mk: replaced CPPFLAGS= with CPPFLAGS +=.
	* Makefile.am: Hack libkernel.lai and install locations to pretend
	the lib is not installed.
	We have to do it in order to include libkernel in an other library.

2006-09-27  matthieu nottale  <nottale@gostai.com>

	Makefile.am fixes

	* Makefile.am: Add missing uext.h.
	Add libkernel_la_CPPFLAGS because AM_CPPFLAGS is ignored
	(libkernel_la_CPPFLAGS written in openr.mk).

2006-09-26  Akim Demaille  <akim.demaille@free.fr>

	White space changes.
	* uconnection.cc: White space chanegs.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	* uconnection.cc: Include ubanner.hh.
	* userver.cc: Remove declarations that are now in ubanner.hh.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	Update to URBI_DIRS.

	* configure.ac (NETWORK_BSDNET): No longer define it.
	* parser/bison/Makefile.defs: Rename as...
	* parser/bison/bison.mk: this.
	And adjust dir names.
	* network/bsdnet/Makefile.defs: Rename as...
	* network/bsdnet/bsdnet.mk: this.
	And adjust dir names.
	* network/OPENR/Makefile.defs: Rename as...
	* network/OPENR/openr.mk: this.
	And adjust dir names.
	* build-aux/urbi-dirs.m4: Also define kernelincludedir.
	* build-aux/urbi-openr.m4: Formatting changes.
	* README: New.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	Introduce ubanner.cc.
	* ubanner.hh, ubanner.cc: New.
	* userver.cc, userver.h: Use it.
	(UServer::display (const char **)): New.
	Use it.
	* Makefile.am: Adjust.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	Update URBI_DIRS.
	* build-aux/urbi-dirs.m4: Update from liburbi-cpp.
	* configure.ac: Use it.
	* Makefile.am (AM_CPPFLAGS): Remove useless ones, add missing ones.
	Ship uext.h.

2006-09-26  Type Your Name Here  <your.mail.here@fixme.com>

	Include path fix

	* utypes.h: Fix uobject.h include path, add uext.h include.
	* uvalue.cc: idem.
	* userver.cc: idem.
	* uobject/uext.h: New. Symlink from liburbi.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	* uobject/uobject.cc: Add missing std::.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	* uobject/uobject.cc (cleanTable): Cleanup.
	* Makefile.am: Formatting changes.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	* build-aux/urbi-openr.m4: New.
	* configure.ac: Use it.

2006-09-26  Akim Demaille  <demaille@gostai.com>

	* parser/bison/Makefile.defs: Install the header files.
	* network/bsdnet/Makefile.defs,
	* network/OPENR/Makefile.defs,
	* network/OPENR/Makefile.defs,
	* Makefile.am: Ditto.

	* userver.h: Reorder includes.
	* memorymanager/memorymanager.h: Formatting changes.

2006-09-26  Akim Demaille  <akim.demaille@free.fr>

	namespace cleanups.
	* ucommand.cc: Don't "using" things from std::.
	Catch up with liburbi being in urbi::.
	* ucommand.h: Ditto.
	* uexpression.h: Ditto.
	* ufloat.h: Ditto.
	* ucallid.cc: Ditto.
	* ugroup.h: Ditto.
	* uexpression.cc: Ditto.
	* uvariable.cc: Ditto.
	* uconnection.h: Ditto.
	* ubinder.h: Ditto.
	* userver.cc: Ditto.
	* userver.h: Ditto.
	* uobj.cc: Ditto.
	* uobj.h: Ditto.
	* uobject/uvar.cc: Ditto.
	* uvariablename.cc: Ditto.
	* uvariable.h: Ditto.
	* uvariablename.h: Ditto.
	* ucallid.h: Ditto.
	* uconnection.cc: Ditto.
	* ubinder.cc: Ditto.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	Use URBI_DIRS.
	* build-aux/urbi-dirs.m4: New.
	* configure.ac: Use it.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	distcheck fixes.
	* build-aux/doxygen.mk: Update.
	* build-aux/revision.mk: Clean version..hh.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	Portability fixes.
	* parser/bison/Makefile.defs: use Perl, not sed, since alternation
	is not portable (and OSX is a loser in this regard).
	Also cover cin, cout, cerr, and widen the pattern.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	Prepend std:: to istream.

	* parser/bison/Makefile.defs: For Linux.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	VC++ issues"".

	* ucommand.cc: .Formatting changes.
	* parser/bison/Makefile.defs (utoken.cc): Fix lack of std::.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	Fixes and details.

	* ucommand.cc: Indent properly.
	* utypes.h: Comment changes.
	* parser/bison/ugrammar.y (NEW_BIN): New.
	Use it.
	Don't use parens for delete.
	"Delete 0" is valid C++.
	* parser/bison/Makefile.defs: Ship FlexLexer.h.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	Fixes.

	* build-aux/move-if-change: New.
	* Makefile.am: Ship bison++.in.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	Dos2unix.
	* ucommand.cc, utypes.h, uvariablelist.cc, ucallid.cc
	* unamedparameters.cc, uvalue.cc, ubinary.cc, uproperty.cc: .
	* CHANGELOG-Kernel, uobject/common_uvalue.cc, ugroup.cc: .
	* ubinder.cc: Use Unix-style end of lines.

	* uobject/uvar.cc: Namespace fixes.

2006-09-25  Akim Demaille  <demaille@gostai.com>

	Autoconfiscate.
	* ChangeLog, bootstrap: New.
	* build-aux/bison++.in, build-aux/revision.mk,
	* build-aux/urbi-var-progs.m4: New.
	* configure.ac: Use them.
	* build-aux/doxygen.mk, doc/Makefile.am, doc/Doxyfile.in: New.

	* Makefile: Rename as...
	* Makefile.am: this.

	* configure.ac (OS): New.
	* version.hh.in: New.
	* Makefile.am: Use it.

	* lockable.h: Simplify.
	* network/OPENR/Makefile.defs: Udate to match Automake use.
	* network/bsdnet/Makefile.defs: Ditto.
	* parser/bison/Makefile.defs: Ditto.
	* parser/bison/FlexLexer.h: Formatting changes.
	* parser/uparser.h: Formatting changes.
	(ugrammar.hh, FlexLexer.h, location.hh): Include them.
	Use parser::token_type instead of Bison pre-2.2 names.
	Don't use using.
	Let Emacs know this file is C++.
	* parser/bison/utoken.l: Formatting changes.
	No using.
	* parser/bison/ugrammar.y: Require Bison 2.2.
	No using.
	Formatting changes.
	Don't use "../" in includes.
	* parser/bison/Makefile.defs: Use bison++ to save cycles.

	* version.h: Replace by...
	* version.hh.in: this.
	* Makefile.am: Use it.

	* userver.cc: Use C++ headers, use version.hh.
	Formatting changes.
	* userver.h: Formatting changes.
	* uobj.cc: Specify the path to uobject.h.
	* uobject/uvar.cc: Formatting changes.
	* uvariable.h: Ditto.
	* uconnection.cc: Ditto.

Local Variables:
ispell-local-dictionary: "american"
End:

$Rev$
$Id$
$Date$
