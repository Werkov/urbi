2006-09-28  matthieu nottale  <nottale@gostai.com>

	Umake is working 

	* sdk/umake.in: New. Moved, plus a few fixes.
	* sdk/Makefile.am: Update list of installed things: remove umain.cc .
	* sdk/param.mk.in: Working, shared with urbiengine-linux.
	* src/liburbi/Makefile.am: Add umain.cc in source list.
	* umake: Remove.
	* umake/umake.in: Remove.
	* configure.ac: Update list and location of config files.
	* lib/jpeg-6b/Makefile.am: install also in $(envdir).

2006-09-28  matthieu nottale  <nottale@gostai.com>

	Work on umake

	* sdk/param.mk.in: Will be the installed sdk makefile.
	* umake/umake.in: Add --output option, remove output from $libraries variable in link mode.

2006-09-28  Matthieu Nottale  <nottale@gostai.com>

	Continued work on umake

	* sdk/param.mk.in: Rewrite in  progress. Generic makeile that will be called by umake.
	* umake/umake.in: Almost done, now invokes make with the right makefile and almost the right arguments.
	* configure.ac: Remove references to removed files in sdk.

2006-09-27  matthieu nottale  <nottale@gostai.com>

	Work on umake <TITLE> small fixes

	* src/liburbi/uobject/uobject.template.h: Fix hash_map declaration using urbi::hash_map_type. Change UBinary::parse prototype to fix a bug.
	* src/liburbi/uobject/common_uvalue.cc: Fix UBinary::parse to pass the list by reference.
	* umake/umake.in: Additional work on command line parsing: sort libs, headers and sources, handle directory arguments.

2006-09-26  Akim Demaille  <akim.demaille@free.fr>

	Fixes.
	* src/liburbi/uobject/uext.h: Add a missing "public".

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/urbi-dirs.m4 (_URBI_DIRS): New.
	(URBI_DIRS): Use it.
	(URBI_KERNEL_DIRS): New.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/urbi-dirs.m4: Pass the default urbi env.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/urbi-dirs.m4: Quote properly.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	Various.

	* sdk/Makefile.module.in: Rename as...
	* sdk/module.mk.in: this.
	* sdk/Makefile.param.in: Rename as...
	* sdk/param.mk.in: this.

	* build-aux/urbi-dirs.m4: Extensive changes for the new layout.
	* sdk/Makefile.am: Update to the new dir names.
	* src/liburbi/Makefile.am: Likewise.
	* src/liburbi/uobject/uexternal.h: Formatting changes.

	First stab, based on texi2dvi.
	* umake: New.
	* umake/umake.in: New.
	* configure.ac: Configure it.

2006-09-26  matthieu nottale  <nottale@gostai.com>

	Hash_map stuff

	* src/liburbi/Makefile.am: Add uext.h.
	* src/liburbi/uobject/uobject.template.h: Remove hash_map code moved to uext.h.
	* src/liburbi/uobject/uext.h: Handle special case of hash_map with char * keys.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* src/liburbi/Makefile.am: Use the pthread vars correctly.
	* src/liburbi/uobject/Makefile.am: Likewise.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* src/examples/urbitalkie.cpp: Formatting changes.
	* src/liburbi/uobject/uexternal.h: Comment changes.
	* src/liburbi/Makefile.am (AM_LDFLAGS): Remove, useless.
	* src/liburbi/uobject/Makefile.am: Install back libuobject.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/urbi-openr.m4: Fix.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* sdk/Makefile.am: Remove dead code.
	Formatting changes.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/urbi-openr.m4: New.
	* configure.ac: Use it.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* src/examples/urbitalkie.cpp: Use urbi::.
	* src/examples/Makefile.am: Build this file if !WIN32, not the
	converse.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* src/examples/urbisound.cpp: Even more urbi:: changes.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	* src/examples/urbisound.cpp: More urbi:: changes.

2006-09-26  Akim Demaille  <akim@lrde.epita.fr>

	Update pthreads detection.
	* src/examples/urbisendsound.cpp: Formatting changes.

	* build-aux/urbi-pthread.m4: New.
	* build-aux/urbi-var-progs.m4: New.
	* configure.ac: Use them.

2006-09-26  Akim Demaille  <akim.demaille@free.fr>

	Put it in urbi::.

	* src/utils/urbiwalk.cpp: Put things in the urbi:: namespace.
	Adjust dependencies.
	Formatting changes.
	* src/utils/Move.cpp: Ditto.
	* src/utils/Move.h: Ditto.
	* src/liburbi/uconversion.h: Ditto.
	* src/liburbi/usyncclient.cpp: Ditto.
	* src/liburbi/lockable.h: Ditto.
	* src/liburbi/uclient.cpp: Ditto.
	* src/liburbi/usyncclient.h: Ditto.
	* src/liburbi/uabstractclient.cpp: Ditto.
	* src/liburbi/uclient.h: Ditto.
	* src/liburbi/uobject/uobject.cc: Ditto.
	* src/liburbi/uobject/uvar.cc: Ditto.
	* src/liburbi/uobject/uobject.template.h: Ditto.
	* src/liburbi/uobject/common_uvalue.cc: Ditto.
	* src/liburbi/uobject/uexternal.h: Ditto.
	* src/liburbi/uconversion.cpp: Ditto.
	* src/liburbi/uabstractclient.h: Ditto.

2006-09-25  matthieu nottale  <nottale@gostai.com>

	Fixing stuffs

	* src/liburbi/uobject/uobject.template.h: Fix missing include <algorithm> for find.
	* src/liburbi/uobject/common_uvalue.cc: Fix code that was mistakenly removed between 140 and 141.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Don't install libuobject.
	* src/liburbi/uobject/Makefile.am: Make it noinst.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	urbi dirs.
	* build-aux/urbi-dirs.m4: New.
	* configure.ac: Use it.
	* src/utils/urbiscale.cpp: Formatting changes.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	distcheck passes.

	* sdk/Makefile.am (gccversion): Simplify the handling.
	(CLEANFILES): Remove Makefile.module.
	* build-aux/doxygen.mk: Chmod before rm to make sure it'll pass.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Fixes.

	* sdk/Makefile.am: Use DESTDIR.
	Ship Makefile.module.in.
	* src/utils/urbiwalk.cpp: Use a stack allocated object.
	Formatting changes.
	* src/liburbi/uobject/uobject.cc: Remove useless "urbi::".
	* src/liburbi/uobject/uvar.cc: No using namespace urbi.
	(operator<< (ostream, UValue): Don't prototype here, it is
	declared elsewhere anyway.
	Put everything inside the urbi namespace.
	* src/liburbi/uobject/uobject.template.h: Formatting changes.
	(UValue::print): New.
	* src/liburbi/uobject/common_uvalue.cc: Work in urbi.
	(UValue::print): Implement.
	(operator<<(ostream, UValue): Use it.
	Formatting changes.
	* configure.ac (includedir, targetdir): Fix their value.
	* build-aux/doxygen.mk (uninstall-local): New.

2006-09-25  matthieu nottale  <nottale@gostai.com>

	Add support for void data type

	* src/liburbi/uobject/common_uvalue.cc: Add support for 'void' in parse function (happens in OBJ type).

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Revert some dos2unix.
	* src/liburbi/openr/liburbi.mips.a: Revert to previous version.
	* src/examples/urbibandwidth.vcproj: Ditto.
	* src/examples/urbiplay.vcproj: Ditto.
	* src/examples/urbiballtrackinghead.vcproj: Ditto.
	* src/examples/urbiimage.vcproj: Ditto.
	* src/examples/urbisound.vcproj: Ditto.
	* src/examples/urbiping.vcproj: Ditto.
	* src/examples/urbisendsound.vcproj: Ditto.
	* src/examples/urbimirror.vcproj: Ditto.
	* src/examples/urbirecord.vcproj: Ditto.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	dos2unix.

	* src/utils/urbiwalk.cpp: Use Unix end-of-lines.
	* src/utils/urbicycle.cpp: Ditto.
	* src/utils/Move.cpp: Ditto.
	* src/utils/urbiscale.cpp: Ditto.
	* src/utils/Move.h: Ditto.
	* src/utils/urbireverse.cpp: Ditto.
	* src/liburbi/openr/liburbi.mips.a: Ditto.
	* src/liburbi/usyncclient.h: Ditto.
	* src/liburbi/uobject/uvar.cc: Ditto.
	* src/liburbi/uobject/uobject.template.h: Ditto.
	* src/liburbi/uobject/common_uvalue.cc: Ditto.
	* src/examples/urbiimage.layout: Ditto.
	* src/examples/urbibandwidth.vcproj: Ditto.
	* src/examples/urbiplay.vcproj: Ditto.
	* src/examples/urbisound.cpp: Ditto.
	* src/examples/urbisend.cpp: Ditto.
	* src/examples/urbiballtrackinghead.vcproj: Ditto.
	* src/examples/monitor-win.cpp: Ditto.
	* src/examples/urbisendsound.cpp: Ditto.
	* src/examples/urbiimage.vcproj: Ditto.
	* src/examples/monitor.cpp: Ditto.
	* src/examples/urbitalkie.cpp: Ditto.
	* src/examples/urbisound.vcproj: Ditto.
	* src/examples/urbimirror.cpp: Ditto.
	* src/examples/urbiimage.dev: Ditto.
	* src/examples/urbiping.vcproj: Ditto.
	* src/examples/examples.suo: Ditto.
	* src/examples/urbisendsound.vcproj: Ditto.
	* src/examples/urbimirror.vcproj: Ditto.
	* src/examples/urbiping.cpp: Ditto.
	* src/examples/urbirecord.vcproj: Ditto.
	* src/examples/urbibandwidth.cpp: Ditto.
	* src/examples/monitor-win.h: Ditto.
	* src/examples/Makefile.win: Ditto.
	* src/examples/examples.sln: Ditto.
	* src/examples/monitor.h: Ditto.
	* INSTALL.windows: Ditto.
	* setenv.sh: Ditto.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	Fix AM_LDADD use.
	* src/liburbi/uobject/Makefile.am (AM_LDADD): Rename as...
	(LDADD): This.

2006-09-25  Akim Demaille  <akim@lrde.epita.fr>

	More Autoconfiscation.
	* configure.ac (TARGET, urbicodedir, targetdir, includedir): New.
	* src/liburbi/Makefile.am (lib_LTLIBRAIRES): Rename as...
	(target_LTLIBRARIES): this.
	* src/liburbi/uobject/Makefile.am: Use PTHREAD_LIBS appropriately.

	* sdk/Makefile.param.in: Formatting changes.
	* sdk/Makefile.module: Rename as...
	* sdk/Makefile.module.in: this.
	* sdk/Makefile.am: Adjust.
	Use TARGET instead of TARGETNAME.
	(copyfile): Remove, rather use directly the various entities
	at their current location.
	(sanity): Update.
	Currently not used, a header would be more appropriate.

	* sdk/umain.cc: Various minor fixes.

2006-09-23  Matthieu Nottale  <nottale@gostai.com>

	adding missing operator

	* src/liburbi/uobject/uvar.cc: Add uvar<=>ulist conversion.
	* src/liburbi/uobject/uobject.template.h: Add missing const for UList methods.

2006-09-21  Akim Demaille  <akim@lrde.epita.fr>

	Please distcheck: don't compile the doc on user side, ship it.
	* build-aux/doxygen.mk (html_DATA): Rename as...
	(EXTRA_DATA): this.

2006-09-21  Akim Demaille  <akim@lrde.epita.fr>

	* configure.ac (sys/soundcard.h): Look for it.
	* src/examples/Makefile.am: Depend on its presence.
	Factor a bit.
	* sdk/Makefile.am (copyfiles): Remove the files first, to avoid
	problems with permissions.

2006-09-21  Akim Demaille  <akim@lrde.epita.fr>

	* build-aux/doxygen.mk: New.
	* doc/Makefile.am: Use it.

2006-09-21  Akim Demaille  <akim@lrde.epita.fr>

	* src/examples/urbiping.cpp: Formatting changes.

2006-09-19  matthieu nottale  <nottale@gostai.com>

	support cross-compile with mingw and distcheck progress

	* sdk/Makefile.am: remove -EXTRALDFLAGS, fix builddir/srcdir mistake.
	* sdk/umain.cc: fix usleep when compiling under WIN32 environment.
	* src/utils/Move.cpp: idem.
	* src/utils/Makefile.am: Fix builddir/srcdir mistake.
	* src/liburbi/uabstractclient.cpp: Fix parse error when hadnling brackets in system messages.
	* src/liburbi/Makefile.am: Fix builddir/srcdir mistake.
	* src/liburbi/uobject/Makefile.am: idem.
	* src/examples/urbiplay.cpp: Fix for WIN32 environnment.
	* src/examples/urbisendbin.cpp: idem.
	* src/examples/urbiping.cpp: idem.
	* src/examples/monitor-win.h: idem.
	* src/examples/Makefile.am: idem.
	* configure.ac: Add detection of windows.h and adding of ws2_32 and gdi32 libs.
	* doc/Makefile.am: Fix builddir/srcdir mistake.

2006-09-18  Akim Demaille  <akim@lrde.epita.fr>

	* src/liburbi/Makefile.am, src/liburbi/Doxyfile.in: Move do
	generation to...
	* doc/Makefile.am, doc/Doxyfile.in: here.
	Put it in srcdir.
	(install-data-local): New.
	* doc/Doxyfile.in (INPUT, FILE_PATTERNS): Complete.

	* src/examples/urbisound.cpp: Formatting changes.

2006-09-18  Akim Demaille  <akim@lrde.epita.fr>

	Improve Doxygenation.
	* src/liburbi/Doxyfile: Rename as...
	* src/liburbi/Doxyfile.in: this.
	(EXPAND_AS_DEFINED): Add the macros that should be expanded to
	get proper documentation generation.
	* configure.ac (DOXYGEN, DOCDIR): New.
	* src/librubi/Makefile.am ($(DOCDIR)): New target.

	* src/liburbi/uconversion.cpp: Do not use relative paths.
	Use the anonymous namespace instead of "static".
	* src/liburbi/uconversion.h, src/liburbi/lockable.h: Formatting
	changes.
	* src/liburbi/Makefile.am (AM_CPPFLAGS): Point to lib/, not
	lib/jpeg-6.
	* src/liburbi/uabstractclient.h: Formatting changes.

2006-09-15  Matthieu Nottale <nottale@gostai.com>

	* src/liburbi/uobject/common_uvalue.cc : Fix missing space in
	getMessage().
	* src/liburbi/uobject/uobject.template.h: Improve doc.

2006-09-14  Matthieu Nottale <nottale@gostai.com>

	* src/utils/Makefile.am (AM_CXXFLAGS): Fix
	  (PTHREAD_CFLAGS and not PTHREAD_LIBS, cf src/examples/Makefile.am).
	* src/examples/urbispeak.cpp, src/liburbi/usoftdevice.h:
	  remove (deprecated API).
	* src/liburbi/lockable.h : Fix deprecated pthread_mutexattr_setkind
	  under linux.
	* src/examples/*.cpp : Finish port to 1.0 API.
	* src/examples/monitor-win.cpp : dos2unixize it
	* src/liburbi/uobject/uobject.template.h,
	src/liburbi/uabstractclient.h, src/liburbi/uobject/common_uvalue.cc:
	  UMessage constructor uses const parameters, as does UValue::parse

2006-09-13  Akim Demaille  <akim@lrde.epita.fr>

	* src/utils/Makefile.am (AM_CXXFLAGS): Fix.
	* src/liburbi/usyncclient.cpp, src/liburbi/usyncclient.h,
	* src/liburbi/uconversion.cpp, src/liburbi/uconversion.h,
	* src/liburbi/uabstractclient.cpp,
	* src/liburbi/uabstractclient.h, src/examples/urbirecord.cpp:
	Less "using".

2006-09-13  Akim Demaille  <akim@lrde.epita.fr>

	* src/liburbi/Makefile.am (include_HEADERS): Also ship lockable.h.

2006-09-13  Akim Demaille  <akim@lrde.epita.fr>

	"make dist" passes.  distcheck does not.
	* src/liburbi/openr/Makefile.am: New, based on..
	* src/liburbi/openr/Makefile.in: this.
	* src/Makefile.am (SUBDIRS): Go into the utils and examples.
	* lib/jpeg-6b/Makefile.am: Add missing files.
	Remove obsolete/useless ones.

2006-09-13  Akim Demaille  <akim@lrde.epita.fr>

	Big multipurpose patch.  Don't do this at home.
	* bootstap: New.
	* configure.ac: Upgrade style.
	* Makefile.am: Use a more recent Automake.
	Use Libtool to build libraries.
	Add missing Makefile.am.
	Remove files that should not be there.
	Use a build-aux directory for Autotools aux files.

	* src/examples/monitor.cpp, src/examples/urbiballtrackinghead.cpp,
	* src/examples/urbibandwidth.cpp, src/examples/urbiimage.cpp,
	* src/examples/urbimirror.cpp, src/examples/urbiping.cpp,
	* src/liburbi/lockable.h, src/liburbi/uabstractclient.cpp,
	* src/liburbi/uabstractclient.h, src/liburbi/uclient.cpp,
	* src/liburbi/uclient.h, src/liburbi/uconversion.cpp,
	* src/liburbi/ufloat.h, src/liburbi/uobject/common_uvalue.cc,
	* src/liburbi/uobject/uexternal.h, src/liburbi/uobject/uobject.cc,
	* src/liburbi/uobject/uobject.template.h,
	* src/liburbi/uobject/uvar.cc, src/liburbi/usyncclient.cpp,
	* src/liburbi/usyncclient.h:
	Fix indentation style at various places.
	Use standard C++ headers (e.g., cstdio, not stdio.h).
	Don't use using.
	* uobject/template_autogen.pl: Make some regexp more tolerant to
	indentation.


2005-11-07
	Bug corrections in image conversion function.
2005-10-26
	Added a c++<->URBI binding function.
2005-10-24
	Added support for URBI list type.
2005-10-14
	Added a convert function for images, that can perform scaling. Jpeg encoding still unsuported.
2005-09-30
	Included liburbi-openr support.
	Corrected an unitialized-variable bug in uabstractclient.h.
2005-09-19
	Added Dev-cpp project files (.dev) for liburbi and libjpeg. Both librairies must be included in user projects.
2005-09-16
	ostream interface now uses the fixed floating point format as it should
2005-09-12
	Added a fast mode for Monitor object, activated by default, disabling the shared display mode.
2005-09-07
	UAbstractClient inherits from ostream, the operator << can be used to send commands
	Defined a URBI macro allowing to do URBI((headPan.val = 12;)) ; see doc
	Updated doc accordingly
	Updated examples to match changes in syntax for 0.9.6b

2005-06-07
	Corrected a few bugs in UMessage manipulation functions.
	Corrected a potential buffer overrun in sendCommand

2005-04-11
	Rewrote template callback mecanism. Old functions kept for compatibility
	Added serErrorCallback and setWildcardCallback

2005-01-13
	Modified Move.cpp: it does not send all the execs at the same time anymore.
	Parser now ignores blank line without any warning.

2005-01-06
	Windows version of liburbi, with vc++ projects and solutions.
	All examples compile under windows.

2004-12-22
	Corrected a memory leak in UMessage destructor.
	More documentation.
	Added noop after every camera format change.

2004-12-21
	Updated the interrupt behavior of Move. It now work as it should.

2004-12-20
	Rewrote urbiimage to have more friendly command line arguments
	Rewrote sendSound to use URBI "speaker.remain" as the timing method.

2004-10-29
	Corrected two bugs in Move.cpp: the user callback was called too early, and multiple times; the user callback was never called in case of null move.

2004-10-13
	Some work on the documentation.
	Renamed errorNotify in printf.
	Removed all use of the pack functions from the examples.

2004-10-12
	Important modifications to update to the 1.0 URBI protocol.
	Added a UMessage structure containing all informations related to an URBI message: the library now goes one step further in parsing the server messages.
	Added the associated USound and UImage structures.
	Added a convert function for sound conversion.
	Added template versions of setCallback to set a callback on member functions.
	Ported all the examples to the new syntax.
	Added a new example: ballTrackingHead.
	Added an exit function to the URBI namespace, and a getCurrentTime virtual function to UAbstractClient.

2004-09-24
	sendSound now copies the buffer given in parameters.

2004-07-28
	Added a read() in UClient constructor to check if connection is realy established.

2004-07-12
	Added possibility to set window title in monitor's constructor.

2004-07-09
	Major rewrite to ease other implementations: moved command code in UAbstractClient interface. API is mostly unchanged.


==LastOf-0-2==

2004-06-29
	Added a reconnection attempt after a small usleep in UClient constructor (ipstack design flaw)

2004-06-23
	Added support for stdin in urbisound and stdout in urbisendsound
	To pipe them one need to do:
	urbisound 100000 gyges - | sox -t raw -r 16000 -w -c 2 -s - -t raw -r 16000 -w -c 1 -s - | urbisendsound nemes -
	added urbitalkie in examples, it realizes this pipe. Doesn't work very well.

2004-06-18
	Added a syncGetDevice with an additional parameter: device field.

2004-06-14
	Changed listLock mutex to recursive mode.
	Added missing lock/unlock calls around UCallbackList::call
	Corrected a bug in deleteCallback: UCallbackList::remove now removes the entry from the list.
	Added a getConnection function for the Move object.


==0.2.1==

2004-06-09
	New algorithm for the Move object: the sequence choosen is now the shortest that reach a value within the precision given as a parameter.
	Added correct path handling in Move.
	Updated urbiwalk accordingly.
	Modified turn samples: left and right turn are now symetric.
