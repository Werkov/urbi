<?xml version="1.0" encoding="UTF-8"?>
<!--
   Copyright 2002-2004 The Apache Software Foundation

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->


<project default="all" name="liburbi" basedir=".">
  <property name="swig_srcdir" value="@top_srcdir@/src/swig/"></property>
  <property name="swig_builddir" value="@top_builddir@/src/swig/"></property>
  <property name="exampledir" value="${swig_srcdir}/java/examples/"></property>
  <property name="testdir" value="${swig_srcdir}/java/tests/"></property>
  <property name="srcdir" value="@top_srcdir@/src/swig/java/urbi/"></property>
  <property name="libdir" value="@top_srcdir@/src/swig/java/"></property>
  <property name="classesdir" value="${swig_builddir}/java/classes"></property>
  <property name="javadocdir" value="./doc/html"></property>
  <property name="jarpath" value="${swig_builddir}/java/lib"></property>
  <property name="distdir" value="./dist"></property>
  <property name="name" value="liburbijava"></property>
  <property name="exampledir-test" value="${exampledir}/test/"></property>
  <property name="manifestpath-test" value="${exampledir}/test/manifest"></property>
  <property name="builddir-test" value="${swig_builddir}/java/examples/test/"></property>
  <property name="name-test" value="test"></property>
  <property name="exampledir-urbiping" value="${exampledir}/urbiping/"></property>
  <property name="manifestpath-urbiping" value="${exampledir}/urbiping/manifest"></property>
  <property name="builddir-urbiping" value="${swig_builddir}/java/examples/urbiping/"></property>
  <property name="name-urbiping" value="URBIPing"></property>
  <property name="exampledir-urbirecord" value="${exampledir}/urbirecord/"></property>
  <property name="manifestpath-urbirecord" value="${exampledir}/urbirecord/manifest"></property>
  <property name="builddir-urbirecord" value="${swig_builddir}/java/examples/urbirecord/"></property>
  <property name="name-urbirecord" value="URBIRecord"></property>
  <property name="exampledir-uobjectjava" value="${exampledir}/uobjectjava/"></property>
  <property name="manifestpath-uobjectjava" value="${exampledir}/uobjectjava/manifest"></property>
  <property name="builddir-uobjectjava" value="${swig_builddir}/java/examples/uobjectjava/"></property>
  <property name="name-uobjectjava" value="UObjectJava"></property>
  <property name="exampledir-urbisound" value="${exampledir}/urbisound/"></property>
  <property name="manifestpath-urbisound" value="${exampledir}/urbisound/manifest"></property>
  <property name="builddir-urbisound" value="${swig_builddir}/java/examples/urbisound/"></property>
  <property name="name-urbisound" value="URBISound"></property>
  <property name="exampledir-urbisend" value="${exampledir}/urbisend/"></property>
  <property name="manifestpath-urbisend" value="${exampledir}/urbisend/manifest"></property>
  <property name="builddir-urbisend" value="${swig_builddir}/java/examples/urbisend/"></property>
  <property name="name-urbisend" value="URBISend"></property>
  <property name="exampledir-urbibandwidth" value="${exampledir}/urbibandwidth/"></property>
  <property name="manifestpath-urbibandwidth" value="${exampledir}/urbibandwidth/manifest"></property>
  <property name="builddir-urbibandwidth" value="${swig_builddir}/java/examples/urbibandwidth/"></property>
  <property name="name-urbibandwidth" value="URBIBandWidth"></property>
  <property name="exampledir-urbiplay" value="${exampledir}/urbiplay/"></property>
  <property name="manifestpath-urbiplay" value="${exampledir}/urbiplay/manifest"></property>
  <property name="builddir-urbiplay" value="${swig_builddir}/java/examples/urbiplay/"></property>
  <property name="name-urbiplay" value="URBIPlay"></property>
  <property name="exampledir-urbiimage" value="${exampledir}/urbiimage/"></property>
  <property name="manifestpath-urbiimage" value="${exampledir}/urbiimage/manifest"></property>
  <property name="builddir-urbiimage" value="${swig_builddir}/java/examples/urbiimage/"></property>
  <property name="name-urbiimage" value="URBIImage"></property>
  <property name="exampledir-urbitalkie" value="${exampledir}/urbitalkie/"></property>
  <property name="manifestpath-urbitalkie" value="${exampledir}/urbitalkie/manifest"></property>
  <property name="builddir-urbitalkie" value="${swig_builddir}/java/examples/urbitalkie/"></property>
  <property name="name-urbitalkie" value="URBITalkie"></property>
  <property name="exampledir-urbiballtrackinghead" value="${exampledir}/urbiballtrackinghead/"></property>
  <property name="manifestpath-urbiballtrackinghead" value="${exampledir}/urbiballtrackinghead/manifest"></property>
  <property name="builddir-urbiballtrackinghead" value="${swig_builddir}/java/examples/urbiballtrackinghead/"></property>
  <property name="name-urbiballtrackinghead" value="URBIBallTrackingHead"></property>
  <property name="exampledir-urbimirror" value="${exampledir}/urbimirror/"></property>
  <property name="manifestpath-urbimirror" value="${exampledir}/urbimirror/manifest"></property>
  <property name="builddir-urbimirror" value="${swig_builddir}/java/examples/urbimirror/"></property>
  <property name="name-urbimirror" value="URBIMirror"></property>
  <property name="testdir-uchange" value="${testdir}/uchange/"></property>
  <property name="manifestpath-uchange" value="${testdir}/uchange/manifest"></property>
  <property name="builddir-uchange" value="${swig_builddir}/java/tests/uchange/"></property>
  <property name="name-uchange" value="UChange"></property>

  <target name="compile" description="* Compile the code">
    <mkdir dir="${classesdir}"></mkdir>
    <javac destdir="${classesdir}" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${swig_srcdir}/java/urbi/"/>
         <pathelement location="${swig_srcdir}/java/gnu/bytecode/"/>
         <pathelement location="${swig_builddir}/java/urbi/generated/"/>
      </src>
      <classpath><fileset dir="${libdir}"><include name="*.jar"/></fileset></classpath>
    </javac>
  </target>
  <target name="jar" description="* Create the jar" depends="compile">
    <jar destfile="${jarpath}/${name}.jar" basedir="${classesdir}"></jar>
  </target>


  <target name="compile-test" description="* Compile the test examples" depends="jar">
    <mkdir dir="${builddir-test}/classes"></mkdir>
    <javac destdir="${builddir-test}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-test}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-test" description="* Create the jar of the test examples" depends="compile-test">
    <jar destfile="${builddir-test}/${name-test}.jar" manifest="${manifestpath-test}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-test}/classes"/>
    </jar>
  </target>


  <target name="compile-urbiping" description="* Compile the urbiping examples" depends="jar">
    <mkdir dir="${builddir-urbiping}/classes"></mkdir>
    <javac destdir="${builddir-urbiping}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbiping}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbiping" description="* Create the jar of the urbiping examples" depends="compile-urbiping">
    <jar destfile="${builddir-urbiping}/${name-urbiping}.jar" manifest="${manifestpath-urbiping}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbiping}/classes"/>
    </jar>
  </target>


  <target name="compile-urbirecord" description="* Compile the urbirecord examples" depends="jar">
    <mkdir dir="${builddir-urbirecord}/classes"></mkdir>
    <javac destdir="${builddir-urbirecord}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbirecord}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbirecord" description="* Create the jar of the urbirecord examples" depends="compile-urbirecord">
    <jar destfile="${builddir-urbirecord}/${name-urbirecord}.jar" manifest="${manifestpath-urbirecord}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbirecord}/classes"/>
    </jar>
  </target>


  <target name="compile-uobjectjava" description="* Compile the uobjectjava examples" depends="jar">
    <mkdir dir="${builddir-uobjectjava}/classes"></mkdir>
    <javac destdir="${builddir-uobjectjava}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-uobjectjava}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-uobjectjava" description="* Create the jar of the uobjectjava examples" depends="compile-uobjectjava">
    <jar destfile="${builddir-uobjectjava}/${name-uobjectjava}.jar" manifest="${manifestpath-uobjectjava}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-uobjectjava}/classes"/>
    </jar>
  </target>


  <target name="compile-urbisound" description="* Compile the urbisound examples" depends="jar">
    <mkdir dir="${builddir-urbisound}/classes"></mkdir>
    <javac destdir="${builddir-urbisound}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbisound}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbisound" description="* Create the jar of the urbisound examples" depends="compile-urbisound">
    <jar destfile="${builddir-urbisound}/${name-urbisound}.jar" manifest="${manifestpath-urbisound}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbisound}/classes"/>
    </jar>
  </target>


  <target name="compile-urbisend" description="* Compile the urbisend examples" depends="jar">
    <mkdir dir="${builddir-urbisend}/classes"></mkdir>
    <javac destdir="${builddir-urbisend}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbisend}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbisend" description="* Create the jar of the urbisend examples" depends="compile-urbisend">
    <jar destfile="${builddir-urbisend}/${name-urbisend}.jar" manifest="${manifestpath-urbisend}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbisend}/classes"/>
    </jar>
  </target>


  <target name="compile-urbibandwidth" description="* Compile the urbibandwidth examples" depends="jar">
    <mkdir dir="${builddir-urbibandwidth}/classes"></mkdir>
    <javac destdir="${builddir-urbibandwidth}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbibandwidth}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbibandwidth" description="* Create the jar of the urbibandwidth examples" depends="compile-urbibandwidth">
    <jar destfile="${builddir-urbibandwidth}/${name-urbibandwidth}.jar" manifest="${manifestpath-urbibandwidth}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbibandwidth}/classes"/>
    </jar>
  </target>


  <target name="compile-urbiplay" description="* Compile the urbiplay examples" depends="jar">
    <mkdir dir="${builddir-urbiplay}/classes"></mkdir>
    <javac destdir="${builddir-urbiplay}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbiplay}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbiplay" description="* Create the jar of the urbiplay examples" depends="compile-urbiplay">
    <jar destfile="${builddir-urbiplay}/${name-urbiplay}.jar" manifest="${manifestpath-urbiplay}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbiplay}/classes"/>
    </jar>
  </target>


  <target name="compile-urbiimage" description="* Compile the urbiimage examples" depends="jar">
    <mkdir dir="${builddir-urbiimage}/classes"></mkdir>
    <javac destdir="${builddir-urbiimage}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbiimage}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbiimage" description="* Create the jar of the urbiimage examples" depends="compile-urbiimage">
    <jar destfile="${builddir-urbiimage}/${name-urbiimage}.jar" manifest="${manifestpath-urbiimage}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbiimage}/classes"/>
    </jar>
  </target>


  <target name="compile-urbitalkie" description="* Compile the urbitalkie examples" depends="jar">
    <mkdir dir="${builddir-urbitalkie}/classes"></mkdir>
    <javac destdir="${builddir-urbitalkie}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbitalkie}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbitalkie" description="* Create the jar of the urbitalkie examples" depends="compile-urbitalkie">
    <jar destfile="${builddir-urbitalkie}/${name-urbitalkie}.jar" manifest="${manifestpath-urbitalkie}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbitalkie}/classes"/>
    </jar>
  </target>


  <target name="compile-urbiballtrackinghead" description="* Compile the urbiballtrackinghead examples" depends="jar">
    <mkdir dir="${builddir-urbiballtrackinghead}/classes"></mkdir>
    <javac destdir="${builddir-urbiballtrackinghead}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbiballtrackinghead}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbiballtrackinghead" description="* Create the jar of the urbiballtrackinghead examples" depends="compile-urbiballtrackinghead">
    <jar destfile="${builddir-urbiballtrackinghead}/${name-urbiballtrackinghead}.jar" manifest="${manifestpath-urbiballtrackinghead}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbiballtrackinghead}/classes"/>
    </jar>
  </target>


  <target name="compile-urbimirror" description="* Compile the urbimirror examples" depends="jar">
    <mkdir dir="${builddir-urbimirror}/classes"></mkdir>
    <javac destdir="${builddir-urbimirror}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${exampledir-urbimirror}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-urbimirror" description="* Create the jar of the urbimirror examples" depends="compile-urbimirror">
    <jar destfile="${builddir-urbimirror}/${name-urbimirror}.jar" manifest="${manifestpath-urbimirror}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-urbimirror}/classes"/>
    </jar>
  </target>


  <target name="compile-uchange" description="* Compile the uchange tests" depends="jar">
    <mkdir dir="${builddir-uchange}/classes"></mkdir>
    <javac destdir="${builddir-uchange}/classes" deprecation="true" debug="true" optimize="false">
      <src>
         <pathelement location="${testdir-uchange}"></pathelement>
      </src>
      <classpath>
         <fileset dir="${libdir}"><include name="*.jar"></include></fileset>
         <pathelement path="${classesdir}"></pathelement>
      </classpath>
    </javac>
  </target>
  <target name="jar-uchange" description="* Create the jar of the uchange tests" depends="compile-uchange">
    <jar destfile="${builddir-uchange}/${name-uchange}.jar" manifest="${manifestpath-uchange}">
       <fileset dir="${classesdir}"/>
       <fileset dir="${builddir-uchange}/classes"/>
    </jar>
  </target>

  <target name="all" description="* Create the jars" depends="jar-test, jar-urbiping, jar-urbirecord, jar-uobjectjava, jar-urbisound, jar-urbisend, jar-urbibandwidth, jar-urbiplay, jar-urbiimage, jar-urbitalkie, jar-urbiballtrackinghead, jar-urbimirror, jar-uchange"></target>
  <target name="clean" description="* Clean up the generated directories">
    <delete><fileset dir="${jarpath}" includes="**/*~"/></delete>
    <delete file="${jarpath}/${name}.jar"></delete>
    <delete file="${builddir-test}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbiping}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbirecord}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-uobjectjava}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbisound}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbisend}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbibandwidth}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbiplay}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbiimage}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbitalkie}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbiballtrackinghead}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-urbimirror}/${name-uobjectjava}.jar"></delete>
    <delete file="${builddir-uchange}/${name-uobjectjava}.jar"></delete>
    <delete dir="${classesdir}"></delete>
    <delete dir="${builddir-test}/classes"></delete>
    <delete dir="${builddir-urbiping}/classes"></delete>
    <delete dir="${builddir-urbirecord}/classes"></delete>
    <delete dir="${builddir-uobjectjava}/classes"></delete>
    <delete dir="${builddir-urbisound}/classes"></delete>
    <delete dir="${builddir-urbisend}/classes"></delete>
    <delete dir="${builddir-urbibandwidth}/classes"></delete>
    <delete dir="${builddir-urbiplay}/classes"></delete>
    <delete dir="${builddir-urbiimage}/classes"></delete>
    <delete dir="${builddir-urbitalkie}/classes"></delete>
    <delete dir="${builddir-urbiballtrackinghead}/classes"></delete>
    <delete dir="${builddir-urbimirror}/classes"></delete>
    <delete dir="${builddir-uchange}/classes"></delete>
  </target>

  <target name="dist" description="* Create a distribution" depends="jar, doc">
    <mkdir dir="${distdir}"></mkdir>
    <copy todir="${distdir}">
      <fileset dir="${jarpath}" includes="*.jar"/>
      <fileset dir="${libdir}" includes="*.jar"/>
      <fileset dir="." includes="LICENSE*, NOTICE*, README*"/>
    </copy>
  </target>

  <target name="doc" description="* Generate javadoc">
    <mkdir dir="${javadocdir}"></mkdir>
    <property name="copyright" value="Copyright URBI Project. All Rights Reserved."></property>
    <property name="title" value="Liburbi Java"></property>
    <javadoc use="true" private="true" destdir="${javadocdir}" author="true" version="true" sourcepath="java" packagenames="liburbi.*">
      <classpath>
        <fileset dir="${libdir}"><include name="*.jar"/></fileset>
        <pathelement location="${jarpath}/${name}.jar"/>
      </classpath>
    </javadoc>
  </target>
</project>

