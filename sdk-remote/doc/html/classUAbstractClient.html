<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>liburbi-cpp: UAbstractClient Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>UAbstractClient Class Reference</h1>Interface for an URBI wrapper object.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="uabstractclient_8h-source.html">uabstractclient.h</a>&gt;</code>
<p>
<p>Inheritance diagram for UAbstractClient:
<p><center><img src="classUAbstractClient.png" usemap="#UAbstractClient_map" border="0" alt=""></center>
<map name="UAbstractClient_map">
<area href="classUClient.html" alt="UClient" shape="rect" coords="0,56,99,80">
<area href="classUSyncClient.html" alt="USyncClient" shape="rect" coords="0,112,99,136">
</map>
<a href="classUAbstractClient-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a0">UAbstractClient</a> (const char *_host, int _port=<a class="el" href="uabstractclient_8h.html#a4">URBI_PORT</a>, int _buflen=<a class="el" href="uabstractclient_8h.html#a3">URBI_BUFLEN</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new instance and connect to the Urbi server.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2" doxytag="UAbstractClient::error"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a2">error</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return current error status, or zero if no error occurred. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a3" doxytag="UAbstractClient::send"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a3">send</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for backward compatibility. Will be removed in future versions. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a4">send</a> (const char *format,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send an Urbi command. The syntax is similar to the <a class="el" href="classUAbstractClient.html#a31">printf()</a> function.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5" doxytag="UAbstractClient::sendBin"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a5">sendBin</a> (const void *, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send binary data. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a6" doxytag="UAbstractClient::sendBin"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a6">sendBin</a> (const void *, int len, const char *header,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send an Urbi header followed by binary data. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a7">startPack</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock the send buffer (for backward compatibility, will be removed in future versions).  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a8" doxytag="UAbstractClient::endPack"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a8">endPack</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock the send buffer (for backward compatibility, will be removed in future versions). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a9">pack</a> (const char *,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append Urbi commands to the send buffer (for backward compatibility, will be removed in future versions).  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a10" doxytag="UAbstractClient::vpack"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a10">vpack</a> (const char *, va_list args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">va_list version of pack. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a11" doxytag="UAbstractClient::sendFile"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a11">sendFile</a> (const char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send urbi commands contained in a file. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a12" doxytag="UAbstractClient::sendCommand"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a12">sendCommand</a> (<a class="el" href="uabstractclient_8h.html#a7">UCallback</a>, const char *,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a command, prefixing it with a tag, and associate the given callback with this tag. */. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a13" doxytag="UAbstractClient::sendCommand"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a13">sendCommand</a> (UCustomCallback, void *, const char *,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a command, prefixing it with a tag, and associate the given callback with this tag. */. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a14">sendSound</a> (const char *device, const <a class="el" href="classUSound.html">USound</a> &amp;sound, const char *tag=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send sound data to the robot for immediate playback.  <a href="#a14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a15" doxytag="UAbstractClient::putFile"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a15">putFile</a> (const char *localName, const char *remoteName=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put a file on the robot's mass storage device. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a16" doxytag="UAbstractClient::putFile"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a16">putFile</a> (const void *buffer, int length, const char *remoteName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save a buffer to a file on the robot. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a17" doxytag="UAbstractClient::setCallback"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a17">setCallback</a> (UCallbackWrapper &amp;callback, const char *tag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associate a callback function with a tag. new style. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a18" doxytag="UAbstractClient::setErrorCallback"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a18">setErrorCallback</a> (UCallbackWrapper &amp;callback)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associate a callbaxk function with all error messages. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a19" doxytag="UAbstractClient::setWildcardCallback"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a19">setWildcardCallback</a> (UCallbackWrapper &amp;callback)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associate a callback with all messages. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a20" doxytag="UAbstractClient::setCallback"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a20">setCallback</a> (<a class="el" href="uabstractclient_8h.html#a7">UCallback</a>, const char *tag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OLD-style callbacks. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a21" doxytag="UAbstractClient::setCallback"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a21">setCallback</a> (UCustomCallback, void *callbackData, const char *tag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Associate a callback function with a tag, specifiing a callback custom value that will be passed back to the callback function. <br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a22" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a22">setCallback</a> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*)(const <a class="el" href="classUMessage.html">UMessage</a> &amp;), const char *tag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback to class member functions(old-style). <br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a23" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C, class P1&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>setCallback</b> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*)(P1, const <a class="el" href="classUMessage.html">UMessage</a> &amp;), P1, const char *tag)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a24" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C, class P1, class P2&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>setCallback</b> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*)(P1, P2, const <a class="el" href="classUMessage.html">UMessage</a> &amp;), P1, P2, const char *tag)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a25" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C, class P1, class P2, class P3&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>setCallback</b> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*)(P1, P2, P3, const <a class="el" href="classUMessage.html">UMessage</a> &amp;), P1, P2, P3, const char *tag)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a26" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C, class P1, class P2, class P3, class P4&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>setCallback</b> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*)(P1, P2, P3, P4, const <a class="el" href="classUMessage.html">UMessage</a> &amp;), P1, P2, P3, P4, const char *tag)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a27">getAssociatedTag</a> (UCallbackID id, char *tag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the tag associated with a registered callback.  <a href="#a27"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a28">deleteCallback</a> (UCallbackID callBackID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a callback.  <a href="#a28"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a29" doxytag="UAbstractClient::makeUniqueTag"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a29">makeUniqueTag</a> (char *tag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill tag with a unique tag for this client. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a30">notifyCallbacks</a> (const <a class="el" href="classUMessage.html">UMessage</a> &amp;msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Simulate an Urbi message.  <a href="#a30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a31" doxytag="UAbstractClient::printf"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a31">printf</a> (const char *format,...)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Notify of an error. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a32" doxytag="UAbstractClient::getCurrentTime"></a>
virtual unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a32">getCurrentTime</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get time in milliseconds since an unspecified but constant reference time. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a33" doxytag="UAbstractClient::lockSend"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a33">lockSend</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock the send buffer for exclusive use by the current thread. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a34" doxytag="UAbstractClient::unlockSend"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a34">unlockSend</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock the send buffer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a35" doxytag="UAbstractClient::getServerName"></a>
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#a35">getServerName</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the server name or IP address. <br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a36" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C, class P1&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>setCallback</b> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*func)(P1, const <a class="el" href="classUMessage.html">UMessage</a> &amp;), P1 p1, const char *tag)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a37" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C, class P1, class P2&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>setCallback</b> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*func)(P1, P2, const <a class="el" href="classUMessage.html">UMessage</a> &amp;), P1 p1, P2 p2, const char *tag)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="a38" doxytag="UAbstractClient::setCallback"></a>
template&lt;class C, class P1, class P2, class P3&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">UCallbackID&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>setCallback</b> (C &amp;ref, <a class="el" href="uabstractclient_8h.html#a47">UCallbackAction</a>(C::*func)(P1, P2, P3, const <a class="el" href="classUMessage.html">UMessage</a> &amp;), P1 p1, P2 p2, P3 p3, const char *tag)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#b0">processRecvBuffer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called each time new data is available in recvBuffer.  <a href="#b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1" doxytag="UAbstractClient::effectiveSend"></a>
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#b1">effectiveSend</a> (const void *buffer, int size)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queue data for sending, returns zero on success, nonzero on failure. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b2" doxytag="UAbstractClient::canSend"></a>
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#b2">canSend</a> (int size)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if successive <a class="el" href="classUAbstractClient.html#b1">effectiveSend()</a> of cumulated size 'size' will succeed. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b3" doxytag="UAbstractClient::lockList"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#b3">lockList</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock receive and send portions of the code. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b4" doxytag="UAbstractClient::unlockList"></a>
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#b4">unlockList</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock receive and send portions of the code. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b5" doxytag="UAbstractClient::addCallback"></a>
UCallbackID&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#b5">addCallback</a> (const char *tag, UCallbackWrapper &amp;w)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a callback to the list. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0" doxytag="UAbstractClient::host"></a>
char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#p0">host</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Host name. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1" doxytag="UAbstractClient::port"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#p1">port</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">URBI Port. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p2" doxytag="UAbstractClient::buflen"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#p2">buflen</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">URBI Buffer length. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p3" doxytag="UAbstractClient::rc"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#p3">rc</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">System calls return value storage. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p4" doxytag="UAbstractClient::recvBuffer"></a>
char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#p4">recvBuffer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reception buffer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5" doxytag="UAbstractClient::recvBufferPosition"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUAbstractClient.html#p5">recvBufferPosition</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current position in reception buffer. <br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="n0" doxytag="UAbstractClient::UClientStreambuf"></a>
class&nbsp;</td><td class="memItemRight" valign="bottom"><b>UClientStreambuf</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Interface for an URBI wrapper object. 
<p>
Implementations of this interface are wrappers around the URBI protocol. It handles URBI messages parsing, callback registration and various formatting functions. Implementations of this interface should:<ul>
<li>Redefine errorNotify() as a function able to notify the user of eventual errors.</li><li>Redfine the four mutual exclusion functions.</li><li>Redefine <a class="el" href="classUAbstractClient.html#b1">effectiveSend()</a>.</li><li>Fill recvBuffer, update recvBufferPosition and call <a class="el" href="classUAbstractClient.html#b0">processRecvBuffer()</a> when new data is available.</li><li>Provide an <a class="el" href="namespaceurbi.html#a5">execute()</a> function in the namespace urbi, that never returns, and that will be called after initialization.</li></ul>
<p>
See the liburbi-cpp documentation for more informations on how to use this class. 
<p>

<p>
Definition at line <a class="el" href="uabstractclient_8h-source.html#l00229">229</a> of file <a class="el" href="uabstractclient_8h-source.html">uabstractclient.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="UAbstractClient::UAbstractClient"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UAbstractClient::UAbstractClient           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>_host</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>_port</em> = <code><a class="el" href="uabstractclient_8h.html#a4">URBI_PORT</a></code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>_buflen</em> = <code><a class="el" href="uabstractclient_8h.html#a3">URBI_BUFLEN</a></code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new instance and connect to the Urbi server. 
<p>
Initializes sendBuffer and recvBuffer, and copy _host and _port. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>_host</em>&nbsp;</td><td>IP address or name of the robot to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>_port</em>&nbsp;</td><td>TCP port to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>_buflen</em>&nbsp;</td><td>size of send and receive buffers. Implementations should establish the connection in their constructor. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00166">166</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="uabstractclient_8h-source.html#l00372">buflen</a>, <a class="el" href="uabstractclient_8h-source.html#l00370">host</a>, <a class="el" href="uabstractclient_8h-source.html#l00371">port</a>, <a class="el" href="uabstractclient_8h-source.html#l00373">rc</a>, and <a class="el" href="uabstractclient_8h-source.html#l00375">recvBuffer</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a28" doxytag="UAbstractClient::deleteCallback"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int UAbstractClient::deleteCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UCallbackID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>callbackID</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a callback. 
<p>
Returns 0 if no callback with this id was found, 1 otherwise. 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00544">544</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="classUAbstractClient.html#b3">lockList()</a>, and <a class="el" href="classUAbstractClient.html#b4">unlockList()</a>.
<p>
Referenced by <a class="el" href="uabstractclient_8cpp-source.html#l00559">sendCommand()</a>, and <a class="el" href="uabstractclient_8cpp-source.html#l00469">sendSound()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="UAbstractClient::getAssociatedTag"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int UAbstractClient::getAssociatedTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UCallbackID&nbsp;</td>
          <td class="mdname" nowrap> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>tag</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the tag associated with a registered callback. 
<p>
Returns 1 and fills tag on success, 0 on failure 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00528">528</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="classUAbstractClient.html#b3">lockList()</a>, and <a class="el" href="classUAbstractClient.html#b4">unlockList()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="UAbstractClient::notifyCallbacks"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void UAbstractClient::notifyCallbacks           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classUMessage.html">UMessage</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Simulate an Urbi message. 
<p>
Pass the given <a class="el" href="classUMessage.html">UMessage</a> to all registered callbacks with the corresponding tag, as if it were comming from the URBI server. 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00140">140</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="classUAbstractClient.html#b3">lockList()</a>, <a class="el" href="uabstractclient_8h-source.html#l00140">UMessage::tag</a>, <a class="el" href="uabstractclient_8h-source.html#l00143">UMessage::type</a>, <a class="el" href="uabstractclient_8h-source.html#l00050">UCallbackAction</a>, and <a class="el" href="classUAbstractClient.html#b4">unlockList()</a>.
<p>
Referenced by <a class="el" href="uabstractclient_8cpp-source.html#l00654">processRecvBuffer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="UAbstractClient::pack"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int UAbstractClient::pack           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Append Urbi commands to the send buffer (for backward compatibility, will be removed in future versions). 
<p>
This function must only be called between a <a class="el" href="classUAbstractClient.html#a7">startPack()</a> and the corresponding <a class="el" href="classUAbstractClient.html#a8">endPack()</a>. Data is queued in the send buffer, and sent when <a class="el" href="classUAbstractClient.html#a8">endPack()</a> is called. 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00257">257</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="uabstractclient_8h-source.html#l00373">rc</a>, and <a class="el" href="uabstractclient_8cpp-source.html#l00269">vpack()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="UAbstractClient::processRecvBuffer"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void UAbstractClient::processRecvBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called each time new data is available in recvBuffer. 
<p>
As long as this function has not returned, neither recvBuffer nor recvBufferPos may be modified. 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00654">654</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="classUAbstractClient.html#b3">lockList()</a>, <a class="el" href="uabstractclient_8cpp-source.html#l00140">notifyCallbacks()</a>, <a class="el" href="classUAbstractClient.html#a31">printf()</a>, <a class="el" href="uabstractclient_8h-source.html#l00375">recvBuffer</a>, <a class="el" href="uabstractclient_8h-source.html#l00376">recvBufferPosition</a>, and <a class="el" href="classUAbstractClient.html#b4">unlockList()</a>.
<p>
Referenced by <a class="el" href="uclient_8cpp-source.html#l00175">UClient::listenThread()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="UAbstractClient::send"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int UAbstractClient::send           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send an Urbi command. The syntax is similar to the <a class="el" href="classUAbstractClient.html#a31">printf()</a> function. 
<p>
Multiple commands can be sent in one call. 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00234">234</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="classUAbstractClient.html#b1">effectiveSend()</a>, <a class="el" href="classUAbstractClient.html#a33">lockSend()</a>, <a class="el" href="uabstractclient_8h-source.html#l00373">rc</a>, <a class="el" href="classUAbstractClient.html#a34">unlockSend()</a>, and <a class="el" href="uabstractclient_8cpp-source.html#l00269">vpack()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="UAbstractClient::sendSound"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int UAbstractClient::sendSound           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classUSound.html">USound</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>sound</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>tag</em> = <code>0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send sound data to the robot for immediate playback. 
<p>
If tag is set, an URBI system "stop" message with this tag will be generated when the sound has been played. The sound data is copied in case of asynchronous send, and may be safely deleted as soon as this function returns. 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00469">469</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="uabstractclient_8h-source.html#l00114">USound::channels</a>, <a class="el" href="uabstractclient_8h-source.html#l00112">USound::data</a>, <a class="el" href="uabstractclient_8cpp-source.html#l00544">deleteCallback()</a>, <a class="el" href="uabstractclient_8cpp-source.html#l00643">makeUniqueTag()</a>, <a class="el" href="uabstractclient_8h-source.html#l00115">USound::rate</a>, <a class="el" href="uabstractclient_8h-source.html#l00118">USound::sampleFormat</a>, <a class="el" href="uabstractclient_8h-source.html#l00116">USound::sampleSize</a>, <a class="el" href="uabstractclient_8cpp-source.html#l00319">sendBin()</a>, <a class="el" href="uabstractclient_8cpp-source.html#l00811">setCallback()</a>, <a class="el" href="uabstractclient_8h-source.html#l00113">USound::size</a>, and <a class="el" href="uabstractclient_8h-source.html#l00117">USound::soundFormat</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="UAbstractClient::startPack"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int UAbstractClient::startPack           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Lock the send buffer (for backward compatibility, will be removed in future versions). 
<p>
In threaded environnments, this function locks the send buffer so that only the calling thread can call the send functions. Otherwise do nothing. 
<p>
Definition at line <a class="el" href="uabstractclient_8cpp-source.html#l00215">215</a> of file <a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a>.
<p>
References <a class="el" href="classUAbstractClient.html#a33">lockSend()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="uabstractclient_8h-source.html">uabstractclient.h</a><li><a class="el" href="uabstractclient_8cpp-source.html">uabstractclient.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Sep 21 08:43:21 2005 for liburbi-cpp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
