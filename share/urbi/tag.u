do Global.Tag
{
  var begin = Tag.new("begin");
  var end = Tag.new("end");

  {
    function report(msg)
    {
      var res = "";
      for (var tag in currentRunner.tags)
        res += tag.name + ": ";
      echo(res + msg);
    };

    at (?begin.enter)
    {
      report("enter");
    };

    at (?end.leave)
    {
      report("leave");
    };
  }
}
