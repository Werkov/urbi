class Global.Lazy
{
  var code;
  var val;

  function init(value)
  {
    self.code = getSlot("value")|
    if (self.getSlot("code").isA(Executable))
      self.getSlot("code").makeClosure|
  };

  function eval()
  {
    updateVoidSlot("val", self.code)
  };

  function value()
  {
    if (getSlot("val").isNil)
      eval|
    getSlot("val")
  };

  function string ()
  {
    self.getSlot("code").bodyString
  };
};
