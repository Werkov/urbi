\chapter{Installation}
\label{sec:installation}

\section{Download}

Various precompiled packages are provided.  They are named
\file{kernel-\var{version}-\var{arch}-\var{os}-\var{compiler}.\var{ext}} where
\begin{description}
\item[\var{version}] specifies the exact revision of Urbi that you are
  using.  It can be simple, \code{2.0}, or more complex,
  \code{2.0-beta3-137-g28f8880}.  In that case,
  \begin{description}
  \item[2.0] is the version of the UrbiScript Kernel,
  \item[beta3] designates the third prerelease,
  \item[137] is the number of changes since beta3 (not counting
    changes in sub-packages),
  \item[g28f8880] is a version control identifier, used internally to
    track the exact version that is being tested by our users.
  \end{description}
\item[\var{arch}] describes the architecture, the \acronym{cpu}:
  \code{ARM}, \code{ppc}, or \code{x86}.
\item[\var{os}] is the operating system: \code{linux} for GNU/Linux,
  \code{osx} for Mac OS X, or \code{windows} for Microsoft Windows.
%% FIXME: We do not display the compiler name in the packages.
\item[\var{compiler}] is the tool chain used to compile the
  executables: \code{gcc} for the GNU Compiler Collection, \code{vcxx}
  for Microsoft Visual \Cxx.
\item[\var{ext}] is the package format extension: \code{tar.gz} for
  Unix style tar balls (uncompressed with \command{tar zxf
    \var{tarfile}}), and \code{zip} for Windows style zip files.
\end{description}

\section{Install}

Uncompress the package where you want to install it.  The package is
built to be installed as \file{/usr/local/gostai}, but this can be
changed --- see below.  It might be interesting to keep several
versions of our packages, in which case using symbolic links (aka
\emph{aliases}) proves to be handy.  Under Unix, the installation
sequence should look like:

\begin{shell}
$ tar zxf kernel-2.0-beta3-linux-x86.tar.gz
$ sudo mv kernel-2.0-beta3-linux-x86 /usr/local
$ cd /usr/local
$ ln -sf kernel-2.0-beta3-linux-x86 gostai
\end{shell}

The \dfn{root} of the package, denoted by \var{urbi-root} hereafter,
is the absolute name of the directory which contains the package.  The
default root is \file{/usr/local/gostai}.  The directory
\var{urbi-root} should contain \file{bin}, \file{FAQ.txt} and so forth.

If your \var{urbi-root} is not \file{/usr/local/gostai}, you will need
some adjustments.  Define the environment variable \index{urbi
  root@\code{URBI\_ROOT}}\emphdfn{\code{URBI\_ROOT}} to point to
\var{urbi-root}, and adjust the library\footnote{%
%%
  Mac OS X users need to extend \code{DYLD\_LIBRARY\_PATH}, not
  \code{LD\_LIBRARY\_PATH}.
%%
} and executable paths.

\begin{shell}[escapeinside=`']
$ export URBI_ROOT=`\var{urbi\_root}'
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$URBI_ROOT/lib
$ export PATH=$PATH:$URBI_ROOT/bin
\end{shell}%$

\section{Checks}

Running the various programs is the quickest way to test your urbi
installation.

\begin{shell}
# Check that urbi-console is properly set up.
$ urbi-console --version
# Check that urbi-launch is properly installed.
$ urbi-launch --version
# Check that urbi-launch can find its dependencies.
$ urbi-launch -- --version
\end{shell}%$

\section{\code{URBI\_PATH}}

The environment variable \code{URBI\_ROOT} is used to locate the \us
standard files.  You may extend the search path so that your own Urbi
files can be found easily.  This is the role of the environment
variable \index{urbi path@\code{URBI\_PATH}}\emphdfn{\code{URBI\_PATH}},
which contains a list of directory
names separated by colons.

Note \code{URBI\_PATH} is also designed to be able to \emph{override}
the default standard files.  Use a lone colon to specify where the
standard, \code{URBI\_ROOT}-based, search path must be inserted.  See
the following examples

\begin{shell}
# Completely override the system path.  First look for files in
# /home/jessie/urbi, then in /usr/local/urbi.
export URBI_PATH=/home/jessie/urbi:/usr/local/urbi

# Prepend the previous path to the default path.  This is dangerous as
# it may result in some standard files being hidden.
export URBI_PATH=/home/jessie/urbi:/usr/local/urbi:

# First look in Jessie's directory, then the default location, and
# finally in /usr/local/urbi.
export URBI_PATH=/home/jessie/urbi::/usr/local/urbi

# Extend the default path, i.e., files that are not found in the
# default path will be looked for in Jessie's place, and then in
# /usr/local/urbi
export URBI_PATH=:/home/jessie/urbi:/usr/local/urbi
\end{shell}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "urbi-sdk"
%%% End:
