%% Copyright (C) 2009-2010, Gostai S.A.S.
%%
%% This software is provided "as is" without warranty of any kind,
%% either expressed or implied, including but not limited to the
%% implied warranties of fitness for a particular purpose.
%%
%% See the LICENSE file for more information.

\section{Date}

This class is meant to record backtrace (see \refSlot{Exception}{backtrace})
information.
\experimental{}

%% \subsection{Prototypes}
%% \begin{refObjects}
%% \item[Orderable]
%% \item[Comparable]
%% \end{refObjects}

\subsection{Construction}

\lstinline|StackFrame| are not made to be manually constructed.  The
initialization function expect 2 arguments, which are the name of the
called function and the \refObject{Location} which has called it.

\begin{urbiscript}[firstline=1]
//#line 1 "foo.u"
function inner () { throw Exception.new("test") }|;
function outer () { inner }|;
try
{
  outer
}
catch(var e)
{
  e.backtrace
};
[00002329] [foo.u:2.21-25: inner, foo.u:5.3-7: outer]
\end{urbiscript}

\subsection{Slots}

\begin{urbiscriptapi}
\item[name] \refObject{String}, representing the name of the called
  function.
\begin{urbiscript}[firstline=1]
//#line 1 "foo.u"
function inner () { throw Exception.new("test") }|;
function outer () { inner }|;
try
{
  outer
}
catch(var e)
{
  e.backtrace[0].name
};
[00002329] "inner"
\end{urbiscript}

\item[location] \refObject{Location} of the function call.
\begin{urbiscript}[firstline=1]
//#line 1 "foo.u"
function inner () { throw Exception.new("test") }|;
function outer () { inner }|;
try
{
  outer
}
catch(var e)
{
  e.backtrace[0].location
};
[00002329] foo.u:2.21-25
\end{urbiscript}

\item[asString] Clean display of the call location.
\begin{urbiscript}[firstline=1]
//#line 1 "foo.u"
function inner () { throw Exception.new("test") }|;
function outer () { inner }|;
try
{
  outer
}
catch(var e)
{
  e.backtrace[0]
};
[00002329] foo.u:2.21-25: inner
\end{urbiscript}

\end{urbiscriptapi}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../urbi-sdk"
%%% ispell-dictionary: "american"
%%% ispell-personal-dictionary: "../urbi.dict"
%%% fill-column: 76
%%% End:
