\section{Position}

This class is used to handle file locations with a line, column and file
name.

\subsection{Prototypes}
\begin{itemize}
\item \refObject{Object}
\end{itemize}

\subsection{Construction}

Without argument, newly constructed position has its fields initialized to
the first line and the first column.

\begin{urbiscript}
Position.new;
[00000001] 1.1
\end{urbiscript}

With a position argument \var{p}, the newly constructed position is a clone
of \var{p}.

\begin{urbiscript}
Position.new(Position.new(2, 3));
[00000001] 2.3
\end{urbiscript}

With two float arguments \var{l} and \var{c}, the newly constructed position
has its line and column defined and an empty file name.

\begin{urbiscript}
Position.new(2, 3);
[00000001] 2.3
\end{urbiscript}

With three arguments \var{f}, \var{l} and \var{c}, the newly constructed position
has its file name, line and column defined.

\begin{urbiscript}
Position.new("file.u", 2, 3);
[00000001] file.u:2.3
\end{urbiscript}

\subsection{Slots}

\begin{itemize}
\item \lstinline|'+'(\var{n})|\\
  Return a new position which is shifted from \var{n} columns to the right.  The minimal
  value of the new position column is 1.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3) + 2 == Position.new(2, 5);
Position.new(2, 3) + -4 == Position.new(2, 1);
\end{urbiassert}

\item \lstinline|'-'(\var{n})|\\
  Return a new position which is shifted from \var{n} columns to the left.  The minimal
  value of the new position column is 1.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3) - 1 == Position.new(2, 2);
Position.new(2, 3) - -4 == Position.new(2, 7);
\end{urbiassert}

\item \lstinline|'=='(\var{other})|\\
  Compare the line and column of two positions.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3) == Position.new(2, 3);
Position.new("a.u", 2, 3) == Position.new("b.u", 2, 3);
Position.new(2, 3) != Position.new(2, 2);
\end{urbiassert}

\item \lstinline|'<'(\var{other})|\\
  Order comparison of lines and columns.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3) < Position.new(2, 4);
Position.new(2, 3) < Position.new(3, 1);
\end{urbiassert}

\item \lstinline|asString|\\
  Present as \samp{\var{file}:\var{line}.\var{column}}, the file name is
  omitted if it is not defined.
\begin{urbiscript}
Position.new("file.u", 2, 3);
[00000001] file.u:2.3
\end{urbiscript}

\item \lstinline|column|\\
  Field which give access to the column number of the position.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3).column == 3;
\end{urbiassert}

\item \lstinline|columns(\var{n})|\\
  Identical to \lstinline|'+'(\var{n})|.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3).columns(2) == Position.new(2, 5);
Position.new(2, 3).columns(-4) == Position.new(2, 1);
\end{urbiassert}

\item \lstinline|file|\\
  The \lstinline|Path| of the position file.
\begin{urbiassert}[firstnumber=last]
Position.new("file.u", 2, 3).file == Path.new("file.u");
Position.new(2, 3).file == nil;
\end{urbiassert}

\item \lstinline|line|\\
  Field which give access to the line number of the position.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3).line == 2;
\end{urbiassert}

\item \lstinline|lines(\var{n})|\\
  Add \var{n} lines and reset the column number to 1.
\begin{urbiassert}[firstnumber=last]
Position.new(2, 3).lines(2) == Position.new(4, 1);
Position.new(2, 3).lines(-1) == Position.new(1, 1);
\end{urbiassert}


\item \lstinline|data|\\
  The data carried by the Binary.
\begin{urbiassert}[firstnumber=last]
Binary.new("head", "content").data == "content";
\end{urbiassert}

\item \lstinline|empty|\\
  Whether the data is empty.
\begin{urbiassert}[firstnumber=last]
Binary.new("head", "").empty;
!Binary.new("head", "content").empty;
\end{urbiassert}

\item \lstinline|keywords|\\
  The headers carried by the Binary.
\begin{urbiassert}[firstnumber=last]
Binary.new("head", "content").keywords == "head";
\end{urbiassert}
\end{itemize}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../urbi-sdk"
%%% End:
