%% Copyright (C) 2009-2011, Gostai S.A.S.
%%
%% This software is provided "as is" without warranty of any kind,
%% either expressed or implied, including but not limited to the
%% implied warranties of fitness for a particular purpose.
%%
%% See the LICENSE file for more information.

\section{Math}

This object is meant to play the role of a name-space in which the
mathematical functions are defined with a more conventional notation.
Indeed, in an object-oriented language, writing \lstinline|pi.cos| makes
perfect sense, yet \lstinline|cos(pi)| is more usual.

\subsection{Prototypes}
\begin{refObjects}
\item[Singleton]
\end{refObjects}

\subsection{Construction}

Since it is a \refObject{Singleton}, you are not expected to build other
instances.

\subsection{Slots}

\begin{urbiscriptapi}
\item[abs](<float>)%
  Bounce to \refSlot[Float]{abs}.
\begin{urbiassert}
Math.abs(1) == Math.abs(-1) == 1;
Math.abs(0) == 0;
Math.abs(3.5) == Math.abs(-3.5) == 3.5;
\end{urbiassert}

\item[acos](<float>)%
  Bounce to \refSlot[Float]{acos}.
\begin{urbiassert}
Math.acos(0) == Float.pi/2;
Math.acos(1) == 0;
\end{urbiassert}

\item[asin](<float>)%
  Bounce to \refSlot[Float]{asin}.
\begin{urbiassert}
Math.asin(0) == 0;
\end{urbiassert}

\item[atan](<float>)%
  Bounce to \refSlot[Float]{atan}.
\begin{urbiassert}
Math.atan(1) ~= pi/4;
\end{urbiassert}

\item[atan2](<x>, <y>)%
  Bounce to \lstinline|\var{x}.atan2(\var{y})|.
\begin{urbiassert}
Math.atan2(2, 2) ~= pi/4;
Math.atan2(-2, 2) ~= -pi/4;
\end{urbiassert}

\item[cos](<float>)%
  Bounce to \refSlot[Float]{cos}.
\begin{urbiassert}
Math.cos(0) == 1;
Math.cos(pi) ~= -1;
\end{urbiassert}

\item[exp](<float>)%
  Bounce to \refSlot[Float]{exp}.
\begin{urbiassert}
Math.exp(1) ~= 2.71828;
\end{urbiassert}

\item[floor] Bounce to \refSlot[Float]{floor}.
\begin{urbiassert}
Math.floor(1) == Math.floor(1.4) == Math.floor(1.5) ==  Math.floor(1.6) == 1;
\end{urbiassert}

\item[inf]
  Bounce to \refSlot[Float]{inf}.

\item[log](<float>)%
  Bounce to \refSlot[Float]{log}.
\begin{urbiassert}
Math.log(1) == 0;
\end{urbiassert}

\item[max](<arg1>, ...)%
  Bounce to \lstinline|[\var{arg1}, ...].max|, see \refSlot[List]{max}.
\begin{urbiassert}
Math.max( 100,   20,   3 ) == 100;
Math.max("100", "20", "3") == "3";
\end{urbiassert}

\item[min](<arg1>, ...)%
  Bounce to \lstinline|[\var{arg1}, ...].min|, see \refSlot[List]{min}.
\begin{urbiassert}
min( 100,   20,   3 ) ==     3;
min("100", "20", "3") == "100";
\end{urbiassert}

\item[nan]
  Bounce to \refSlot[Float]{nan}.

\item[pi]
  Bounce to \refSlot[Float]{pi}.

\item[random](<float>)%
  Bounce to \refSlot[Float]{random}.
\begin{urbiscript}
20.map(function (dummy) { Math.random(5) });
[00000000] [1, 2, 1, 3, 2, 3, 2, 2, 4, 4, 4, 1, 0, 0, 0, 3, 2, 4, 3, 2]
\end{urbiscript}

\item[round](<float>)%
  Bounce to \refSlot[Float]{round}.
\begin{urbiassert}
Math.round(1  ) == Math.round(1.1)  == Math.round(1.49) == 1;
Math.round(1.5) == Math.round(1.51) == 2;
\end{urbiassert}

\item[sign](<float>)%
  Bounce to \refSlot[Float]{sign}.
\begin{urbiassert}
Math.sign(-2) == -1;  Math.sign(0)  == 0;  Math.sign(2)  == 1;
\end{urbiassert}

\item[sin](<float>)%
  Bounce to \refSlot[Float]{sin}.
\begin{urbiassert}
Math.sin(0) == 0;
Math.sin(pi) ~= 0;
\end{urbiassert}

\item[sqr](<float>)%
  Bounce to \refSlot[Float]{sqr}.
\begin{urbiassert}
Math.sqr(1.5) == Math.sqr(-1.5) == 2.25;
Math.sqr(16)  == Math.sqr(-16)  == 256;
\end{urbiassert}

\item[sqrt](<float>)%
  Bounce to \refSlot[Float]{sqrt}.
\begin{urbiassert}
Math.sqrt(4) == 2;
\end{urbiassert}

\item[srandom](<float>)%
  Bounce to \refSlot[Float]{srandom}.

\item[tan](<float>)%
  Bounce to \refSlot[Float]{tan}.
\begin{urbiassert}
Math.tan(pi/4) ~= 1;
\end{urbiassert}

\item[trunc](<float>)%
  Bounce to \refSlot[Float]{trunc}.
\begin{urbiassert}
Math.trunc(1) == Math.trunc(1.1) == Math.trunc(1.49) == Math.trunc(1.5)
  == Math.trunc(1.51)
  == 1;
\end{urbiassert}
\end{urbiscriptapi}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../urbi-sdk"
%%% ispell-dictionary: "american"
%%% ispell-personal-dictionary: "../urbi.dict"
%%% fill-column: 76
%%% End:
