\section{Date}

This class is meant to record dates in time.  It is experimental, and
very likely to be changed in the future.

\subsection{Prototypes}
\begin{itemize}
\item \refObject{Orderable}
\item \refObject{Comparable}
\end{itemize}

\subsection{Construction}

Without argument, newly constructed dates refer to the \dfn{epoch}
(see \lstinline|Date.epoch|).

\begin{urbiscript}
Date.new;
[00000001] 1970-01-01 01:00:00
\end{urbiscript}

With a numeric argument \var{s}, refers to the date that is \var{s}
seconds after the epoch.

\begin{urbiscript}[firstnumber=last]
Date.new(1234567890);
[00023593] 2009-02-14 00:31:30
\end{urbiscript}

\subsection{Slots}

\begin{itemize}
\item \lstinline|+(\var{that})|\\
  Return the date which is corresponds to waiting \refObject{Duration}
  \var{that} after \lstinline|this|.
\begin{urbiassert}[firstnumber=last]
Date.new(1000) + Duration.new(100) == Date.new(1100);
\end{urbiassert}

\item \lstinline|-(\var{that})|\\
  Compute the difference between two dates.  Return a
  \refObject{Duration}.  Negative durations are invalid.
\begin{urbiassert}[firstnumber=last]
Date.new(100) - Date.new(0) == Duration.new(100);
\end{urbiassert}
%Date.new(0) - Date.new(100);
%[00000006:error] !!! new: expected non-negative integer, got -100

\item \lstinline|==(\var{that})|\\
  Equality test.
\begin{urbiassert}[firstnumber=last]
Date.new(11223344) == Date.new(11223344);
Date.new(11111111) != Date.new(22222222);
\end{urbiassert}

\item \lstinline|<(\var{that})|\\
  Order comparison.
\begin{urbiassert}[firstnumber=last]
Date.new(11111111) < Date.new(22222222);
\end{urbiassert}

\item \lstinline|asString|\\
  Present as \samp{\var{yyyy}-\var{mm}-\var{dd}
    \var{hh}:\var{mn}:\var{ss}} where \var{yyyy} is the four-digit
  year, \var{mm} the two-digit month (from 1 to 12), \var{dd} the
  two-digit day in the month (from 1 to 31), \var{hh} the two-digit
  hour (from 0 to 23), \var{mn} the two-digit number of minutes in the
  hour (from 0 to 59), and \var{ss} the two-digit number of seconds in
  the minute (from 0 to 59).
\begin{urbiassert}[firstnumber=last]
Date.new(1234567890).asString == "2009-02-14 00:31:30";
\end{urbiassert}

\item \lstinline|epoch|\\
  A fixed value, the ``origin of times'': January 1st 1970, at
  midnight.
\begin{urbiassert}[firstnumber=last]
Date.epoch == Date;
Date.epoch == Date.new(0);
Date.epoch == Date.new();
\end{urbiassert}


\end{itemize}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../urbi-sdk"
%%% End:
