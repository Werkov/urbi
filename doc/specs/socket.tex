\section{Socket}

A \dfn{Socket} can manage asynchronous input/output network
connections.

\subsection{Prototypes}
\begin{itemize}
\item \refObject{Object}
\end{itemize}

\subsection{Construction}

A \lstinline|Socket| is constructed with no argument. At creation, a
new \lstinline|Socket| has four own slots: \lstinline|connected|,
\lstinline|disconnected|, \lstinline|error| and \lstinline|received|.

\begin{urbiscript}
var s = Socket.new|
\end{urbiscript}

\subsection{Slots}
\begin{itemize}

\item \lstinline|connect(\var{host}, \var{port})|\\
  Connect \lstinline|this| to \var{host} and \var{port}.

\item \lstinline|connected|\\
  Event launched when the connection is established.

\item \lstinline|connectSerial(\var{device}, \var{baudrate})|\\
  Connect \lstinline|this| to the serial port \var{device}, with given
  \var{baudrate}.

\item \lstinline|disconnect|\\
  Close the connection.

\item \lstinline|disconnected|\\
  Event launched when a disconnection happens.

\item \lstinline|error|\\
  Event launched when an error happens. This event is launched with
  the error message in argument. The event \lstinline|disconnected| is
  also always launched.

\item \lstinline|host|\\
  The host of the connection.

\item \lstinline|isConnected|\\
  Whether \lstinline|this| is connected.

\item \lstinline|poll|\\
  Runs the event processing loop to execute ready handlers. By
  default, the loop is executed every \lstinline|pollInterval|.

\item \lstinline|pollInterval|\\
  Each \lstinline|pollInterval| amout of time, \lstinline|Socket.poll|
  is called. If \lstinline|pollInterval| equals zero,
  \lstinline|Socket.poll| is not called.

\item \lstinline|port|\\
  The port of the connection.

\item \lstinline|received|\\
  Event launched when \lstinline|this| has received data. The data is
  given by argument to the event.

\item \lstinline|write(\var{data})|\\
  Sends \var{data} trough the connection.

\end{itemize}
