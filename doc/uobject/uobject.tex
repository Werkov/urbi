\part{The Middleware Architecture:\\UObjects}
\label{sec:tut:uobject}

\chapter*{Introduction}
This part guides you through the various steps of writing an \urbi
\Cxx component using the UObject API. This API can be used to add new
objects written in \Cxx to the \urbi language, and to interact from
\Cxx with the objects that are already defined. We cover the use cases
of controlling a physical device (servomotor, speaker, camera...), and
interfacing higher-lever components (voice recognition, object
detection, ...) with \urbi.

The API defines the UObject class. Each instance of a derived class in
your \Cxx code will correspond to an \urbi object sharing some of its
methods and attributes. The API provides methods to declare which
elements of your object are to be shared. To share a variable with
\urbi, you have to give it the type UVar. This type is a container that
provides cast and equal operators for all types known to \urbi: double,
string and char*, and the binary-holding structures UBinary, USound
and UImage. This type can also read from and write to the liburbi
UValue class. The API provides methods to set up callbacks functions
that will be notified when a variable is modified or read from \urbi
code. Instance methods of any prototype can be rendered accessible
from \urbi, providing all the parameters types and the return type can
be converted to/from UValue.

The next section is a walk through covering all the aspects of the
UObject API, and the rest of the chapter describes many use cases in
details.

\input{uobject/quick-start}
\input{uobject/api}
\input{uobject/use-cases}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../urbi-sdk"
%%% End:

% LocalWords:  UObject API UVar UBinary USound UImage liburbi UValue namespace
% LocalWords:  urbi const UBindVar UBindFunction rhs UStart init UNotifyChange
% LocalWords:  UNotifyAccess notifyChange notifyAccess USetUpdate USetTimer pos
% LocalWords:  UOwned UNotifyOnRequest requestValue UProp enum struct plugin px
% LocalWords:  UObjects UObjectHub UStartHub URegister getUObjectHub classname
% LocalWords:  someevent sometag bool getPosition setPosition setPID PID Uowned
% LocalWords:  valueChanged valueAccessed pidChanged headPan ampli getVal vals
% LocalWords:  setPositions servohub addValue realloc sizeof destructor RGB py
% LocalWords:  getWidth getHeight getImage accessFrame softdevice BallTracker
% LocalWords:  varname cameraval newImage detectBall
